(()=>{"use strict";(function(){var e,t={site:365203,log:"",logSSL:"",domain:"xiti.com",collectDomain:"logi7.xiti.com",collectDomainSSL:"logs.xiti.com",userIdOrigin:"server",pixelPath:"/hit.xiti",disableCookie:!1,disableStorage:!1,cookieSecure:!1,cookieDomain:"",preview:!1,plgs:["Clicks","ClientSideUserId","ContextVariables","Page","IdentifiedVisitor","AvInsights","Events","InternalSearch","Privacy","RichMedia"],lazyLoadingPath:"",documentLevel:"document",redirect:!1,activateCallbacks:!0,medium:"",ignoreEmptyChapterValue:!0,base64Storage:!1,sendHitWhenOptOut:!0,forceHttp:!1,requestMethod:"GET",maxHitSize:2e3,urlPropertyAuto:!1,urlPropertyQueryString:!1};(e=window).ATInternet=e.ATInternet||{},e.ATInternet.Tracker=e.ATInternet.Tracker||{},e.ATInternet.Tracker.Plugins=e.ATInternet.Tracker.Plugins||{};ATInternet.Utils=new function(){function e(t){var n=typeof t;if("object"!==n||null===t)return"string"===n&&(t='"'+t+'"'),String(t);var r,i,a=[],o=t.constructor===Array;for(r in t)t.hasOwnProperty(r)&&("function"!==(n=typeof(i=t[r]))&&"undefined"!==n&&("string"===n?i='"'+i.replace(/[^\\]"/g,'\\"')+'"':"object"===n&&null!==i&&(i=e(i)),a.push((o?"":'"'+r+'":')+String(i))));return(o?"[":"{")+String(a)+(o?"]":"}")}function t(e){return null===e?"":(e+"").replace(i,"")}var n=this,r=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g,i=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g");n.isLocalStorageAvailable=function(){try{var e=localStorage;return e.setItem("__storage_test__","__storage_test__"),e.removeItem("__storage_test__"),!0}catch(e){return!1}},n.isBeaconMethodAvailable=function(){return window.navigator&&"function"==typeof window.navigator.sendBeacon},n.Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,r,i,a,o,s,l="",u=0;for(e=n.Base64._utf8_encode(e);u<e.length;)a=(t=e.charCodeAt(u++))>>2,t=(3&t)<<4|(r=e.charCodeAt(u++))>>4,o=(15&r)<<2|(i=e.charCodeAt(u++))>>6,s=63&i,isNaN(r)?o=s=64:isNaN(i)&&(s=64),l=l+this._keyStr.charAt(a)+this._keyStr.charAt(t)+this._keyStr.charAt(o)+this._keyStr.charAt(s);return l},decode:function(e){var t,r,i,a,o,s="",l=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<e.length;)t=(t=this._keyStr.indexOf(e.charAt(l++)))<<2|(r=this._keyStr.indexOf(e.charAt(l++)))>>4,r=(15&r)<<4|(a=this._keyStr.indexOf(e.charAt(l++)))>>2,i=(3&a)<<6|(o=this._keyStr.indexOf(e.charAt(l++))),s+=String.fromCharCode(t),64!=a&&(s+=String.fromCharCode(r)),64!=o&&(s+=String.fromCharCode(i));return n.Base64._utf8_decode(s)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);128>r?t+=String.fromCharCode(r):(127<r&&2048>r?t+=String.fromCharCode(r>>6|192):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128)),t+=String.fromCharCode(63&r|128))}return t},_utf8_decode:function(e){for(var t,n,r,i="",a=0;a<e.length;)128>(t=e.charCodeAt(a))?(i+=String.fromCharCode(t),a++):191<t&&224>t?(n=e.charCodeAt(a+1),i+=String.fromCharCode((31&t)<<6|63&n),a+=2):(n=e.charCodeAt(a+1),r=e.charCodeAt(a+2),i+=String.fromCharCode((15&t)<<12|(63&n)<<6|63&r),a+=3);return i}},n.loadScript=function(e,t){var n;t=t||function(){},(n=document.createElement("script")).type="text/javascript",n.src=e.url,n.async=!1,n.defer=!1,n.onload=n.onreadystatechange=function(e){("load"===(e=e||window.event).type||/loaded|complete/.test(n.readyState)&&(!document.documentMode||9>document.documentMode))&&(n.onload=n.onreadystatechange=n.onerror=null,t(null,e))},n.onerror=function(e){n.onload=n.onreadystatechange=n.onerror=null,t({msg:"script not loaded",event:e})};var r=document.head||document.getElementsByTagName("head")[0];r.insertBefore(n,r.lastChild)},n.cloneSimpleObject=function(e,t){if("object"!=typeof e||null===e||e instanceof Date)return e;var r,i=new e.constructor;for(r in e)e.hasOwnProperty(r)&&(void 0===r||t&&void 0===e[r]||(i[r]=n.cloneSimpleObject(e[r])));return i},n.isEmptyObject=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},n.isObject=function(e){return null!==e&&"object"==typeof e&&!(e instanceof Array)},n.ATVALUE="_ATVALUE",n.ATPREFIX="_ATPREFIX",n.object2Flatten=function(e,t,r,i,a){var o,s={},l="",u="",c=[],f="",d=0;for(o in e)if(e.hasOwnProperty(o))if(l=(s=n.splitProtocolAndKey(o,a)).prefix||i||"",u=(t?t+"_":"")+s.key,n.isObject(e[o]))n.object2Flatten(e[o],u,r,l,a);else{for(c=u.split("_"),f="",d=0;d<c.length;d++)l=(s=n.splitProtocolAndKey(c[d],a)).prefix||l,f+=s.key+(d<c.length-1?"_":"");r[u=f||u]=r[u]||{},r[u][n.ATVALUE]=e[o],r[u][n.ATPREFIX]=l}},n.flatten2Object=function(e,t,r){var i,a;for(t=t.split("_"),a=0;a<t.length-1;a++)e[i=t[a]]||(e[i]={}),e=e[i];if(e.hasOwnProperty(n.ATVALUE)){i=e[n.ATVALUE];var o=e[n.ATPREFIX];delete e[n.ATVALUE],delete e[n.ATPREFIX],e.$={},e.$[n.ATVALUE]=i,e.$[n.ATPREFIX]=o}r=n.cloneSimpleObject(r),e[t[a]]?e[t[a]].$=r:e[t[a]]=r},n.getFormattedObject=function(e){var t,r={};for(t in e)e.hasOwnProperty(t)&&(e[t].hasOwnProperty(n.ATVALUE)?r[e[t][n.ATPREFIX]?e[t][n.ATPREFIX]+":"+t:t]=e[t][n.ATVALUE]:r[t]=n.getFormattedObject(e[t]));return r},n.completeFstLevelObj=function(e,t,n){if(e){if(t)for(var r in t)!t.hasOwnProperty(r)||e[r]&&!n||(e[r]=t[r])}else e=t;return e},n.getObjectKeys=function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n},n.objectToLowercase=function(e){var t,r={};for(t in e)e.hasOwnProperty(t)&&(n.isObject(e[t])?r[t.toLowerCase()]=n.objectToLowercase(e[t]):r[t.toLowerCase()]=e[t]);return r},n.splitProtocolAndKey=function(e,t){var n,r;return 2>e.length||":"!==e[1]?(n="",r=e):4>e.length||":"!==e[3]?(n=e.substring(0,1),r=e.substring(2,e.length)):(n=e.substring(0,3),r=e.substring(4,e.length)),t&&(n=n.toLowerCase(),r=r.toLowerCase()),{prefix:n,key:r}},n.jsonSerialize=function(t){try{return"undefined"!=typeof JSON&&JSON.stringify?JSON.stringify(t):e(t)}catch(e){return null}},n.jsonParse=function(e){try{return"undefined"!=typeof JSON&&JSON.parse?JSON.parse(e+""):function(e){var n,i=null;return(e=t(e+""))&&!t(e.replace(r,(function(e,t,r,a){return n&&t&&(i=0),0===i?e:(n=r||t,i+=!a-!r,"")})))?Function("return "+e)():null}(e)}catch(e){return null}},n.trim=function(e){try{return String.prototype.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}catch(t){return e}},n.arrayIndexOf=function(e,t){if(Array.prototype.indexOf){var n=-1;return void 0!==e.indexOf(t)&&(n=e.indexOf(t)),n}return function(e){if(null==this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var r=0;if(1<arguments.length&&((r=Number(arguments[1]))!=r?r=0:0!=r&&1/0!=r&&-1/0!=r&&(r=(0<r||-1)*Math.floor(Math.abs(r)))),r>=n)return-1;for(r=0<=r?r:Math.max(n-Math.abs(r),0);r<n;r++)if(r in t&&t[r]===e)return r;return-1}.apply(e,[t])},n.uuid=function(){function e(e){var r=Math.random();try{n&&(r=t.getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32))}catch(e){}return Math.floor((9*r+1)*Math.pow(10,e-1))}var t=window.crypto||window.msCrypto,n=null!==t&&"object"==typeof t;return{v4:function(){try{if(n)return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^t.getRandomValues(new Uint32Array(1))[0]&15>>e/4).toString(16)}))}catch(e){}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},num:function(t){var n=new Date,r=function(e){return 10>(e-=100*Math.floor(e/100))?"0"+e:String(e)};return r(n.getHours())+""+r(n.getMinutes())+r(n.getSeconds())+e(t-6)}}},n.isPreview=function(){return window.navigator&&"preview"===window.navigator.loadPurpose},n.isPrerender=function(e){var t,r=!1,i=["webkit","ms"];if("prerender"===document.visibilityState)t="visibilitychange";else for(var a=0;a<i.length;a++)"prerender"===document[i[a]+"VisibilityState"]&&(t=i[a]+"visibilitychange");if(void 0!==t){n.addEvtListener(document,t,(function r(i){e(i),n.removeEvtListener(document,t,r)})),r=!0}return r},n.addEvtListener=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},n.removeEvtListener=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},n.hashcode=function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++)t=0|(t=(t<<5)-t+e.charCodeAt(n));return t},n.setLocation=function(e){var t=e.location;e=window[e.target]||window,t&&(e.location.href=t)},n.dispatchCallbackEvent=function(e){var t;if("function"==typeof window.Event)t=new Event("ATCallbackEvent");else try{(t=document.createEvent("Event")).initEvent&&t.initEvent("ATCallbackEvent",!0,!0)}catch(e){}t&&"function"==typeof document.dispatchEvent&&(t.name=e,document.dispatchEvent(t))},n.addCallbackEvent=function(e){n.addEvtListener(document,"ATCallbackEvent",e)},n.removeCallbackEvent=function(e){n.removeEvent("ATCallbackEvent",e)},function(){function e(e,t){var n;t=t||{bubbles:!1,cancelable:!1,detail:void 0};try{(n=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail)}catch(e){}return n}"function"==typeof window.CustomEvent?window.ATCustomEvent=window.CustomEvent:("function"==typeof window.Event&&(e.prototype=window.Event.prototype),window.ATCustomEvent=e)}(),n.addEvent=function(e,t,r,i){n[e]=new ATCustomEvent(e,{detail:{name:t,id:r}}),n.addEvtListener(document,e,i)},n.removeEvent=function(e,t){n.removeEvtListener(document,e,t)},n.dispatchEvent=function(e,t){n[e]=n[e]||new ATCustomEvent(e,{detail:{name:t,id:-1}});try{document.dispatchEvent(n[e])}catch(e){}},n.privacy=new function(){function e(e,t){var r,i,a=[];r={};for(var o=0;o<e.length;o++){for(var s in r={},n.object2Flatten(e[o],null,r,null,!0),r)r.hasOwnProperty(s)&&-1===n.arrayIndexOf(t,s)&&delete r[s];if(!n.isEmptyObject(r)){for(var l in i={},r)r.hasOwnProperty(l)&&n.flatten2Object(i,l,r[l]);r=n.getFormattedObject(i),a.push(r)}}return a}function t(e,n,r){1<e.length?(void 0===n[e[0]]&&(n[e[0]]={}),t(e.slice(1,e.length),n[e[0]],r)):n[e[0]]=r}function r(e,t,n,i,a){var o=i||{};if(!e||"object"!=typeof e||e instanceof Array){if(void 0!==e&&0<=n.indexOf(a)||void 0===n)o[a]=e;else for(t=0;t<n.length;t++)if(a&&0===a.indexOf(n[t])){o[a]=e;break}}else for(var s in e)e.hasOwnProperty(s)&&r(e[s],t,n,o,(a?a+t:"")+s);if(void 0===i)return o}function i(e,i,a){for(var o=[],s=0;s<e.length;s++){var l;l=r(e[s],a,i);var u=a,c={},f=void 0;for(f in l)if(l.hasOwnProperty(f)){t(f.split(u),c,l[f])}l=c,n.isEmptyObject(l)||o.push(l)}return o}function a(e,t){var n="",r={key:"",flattenedProperty:""};switch(!0){case 0===e.indexOf("stc_"):n="stc_";break;case 0===e.indexOf("stc/"):n="stc/";break;case 0===e.indexOf("events_"):n="events_";break;case 0===e.indexOf("context_"):n="context_";break;default:r.key=e}if(n){var i=n.substring(0,n.length-1);r.key=i,0>t.indexOf(i)&&(r.flattenedProperty=e.substring(n.length))}return r}function o(e){for(var t=[],n={},r=0;r<e.length;r++)if("string"==typeof e[r]){var i={};if(-1<e[r].indexOf("#")){var o=e[r].split("#");o[0]===u&&(i=a(o[1],e))}else i=a(e[r],e);i.key&&0>t.indexOf(i.key)&&t.push(i.key),i.flattenedProperty&&(n[i.key]=(n[i.key]||[]).concat(i.flattenedProperty))}else for(var s in e[r])e[r].hasOwnProperty(s)&&(0>t.indexOf(s)&&t.push(s),0>e.indexOf(s)&&(n[s]=(n[s]||[]).concat(e[r][s])));return{keys:t,values:n}}var s=this,l={storageParams:null,bufferParams:null},u="";s.CONSENTNO="Consent-NO",s.ALL="*",s.testStorageParam=function(e,t){var n;if(l.storageParams instanceof Array){for(var r,i=l.storageParams.length-1;0<=i;i--)if("string"==typeof(r=l.storageParams[i])){if(r===e||r===s.ALL)return{toSetInStorage:!0}}else{e:{n=e;var a=t,o=void 0,u=void 0;for(u in r)if(r.hasOwnProperty(u)&&n===u){if(!a){n=!0;break e}o=[],r[u]instanceof Array?o=r[u]:o.push(r[u]);for(var c=0;c<o.length;c++)if(o[c]===a){n=!0;break e}}n=!1}if(n)return{toSetInStorage:!0}}return{toSetInStorage:!1}}return{toSetInStorage:!0}},s.processStorageParams=function(e,t,r){if(r){r=r();var i=o(l.storageParams);if(i.keys[0]!==s.ALL)for(var a in r)if(r.hasOwnProperty(a)&&void 0!==r[a])if(-1===n.arrayIndexOf(i.keys,a))e&&e(a);else if(n.isObject(r[a])){var u=a,c=r[a].val,f=i.values[a],d=e,p=t;if(void 0!==f){var g=[];for(f in f instanceof Array?g=f:g.push(f),f=void 0,c)c.hasOwnProperty(f)&&-1===n.arrayIndexOf(g,f)&&d&&d([u,f]);d&&p&&n.isEmptyObject(p(u))&&d(u)}}}},s.testBufferParam=function(t,r){var a,u;if(l.bufferParams instanceof Array){for(a=o(l.bufferParams),u=0;u<a.keys.length;u++)if(a.keys[u]===t||a.keys[u]===s.ALL){if(a.values.hasOwnProperty(a.keys[u])){var c={};c[a.keys[u]]=a.values[a.keys[u]];e:{if(a=t,u=r,n.isObject(c)){var f=void 0,d=[],p=!1,g=f=f=void 0;for(g in c)if(c.hasOwnProperty(g)&&a===g&&("string"==typeof(f=u)&&(f=n.jsonParse(f)||f),"object"==typeof f)){f instanceof Array?(d=f,p=!0):d.push(f),0===(f="stc"===a?i(d,c[g],"/"):"events"===a||"context"===a?i(d,c[g],"_"):e(d,c[g])).length?(a=!1,u=void 0):(f=p?f:f[0],a=!0,u=n.jsonSerialize(f));break e}}a=!1,u=void 0}if(a)return{toSetInBuffer:!0,value:u};break}return{toSetInBuffer:!0,value:r}}return{toSetInBuffer:!1}}return{toSetInBuffer:!0,value:r}},s.processBufferParams=function(t,r,a){if(r){r=r();var u=o(l.bufferParams);if(u.keys[0]!==s.ALL)for(var c in r)if(r.hasOwnProperty(c))if(-1===n.arrayIndexOf(u.keys,c))t&&t(c);else{var f=c,d=r[c],p=u.values[c],g=t,v=a;if(void 0!==p){var m=[],h=d._value,y=[],T=!1,b=void 0;b=void 0;p instanceof Array?m=p:m.push(p),"string"==typeof h&&(h=n.jsonParse(h)||h),"object"==typeof h&&(h instanceof Array?(y=h,T=!0):y.push(h),0===(b="stc"===f?i(y,m,"/"):"events"===f||"context"===f?i(y,m,"_"):e(y,m)).length?g&&g(f):(b=T?b:b[0],v&&v(f,n.jsonSerialize(b),d._options)))}}}},s.setMode=function(e){u=e},s.setParameters=function(e){l=e},s.getParameters=function(){return l},s.resetParameters=function(){l={storageParams:null,bufferParams:null}}},n.optedOut=null,n.addOptOutEvent=function(e,t){n.addEvent("ATOptOutEvent","clientsideuserid",e,t)},n.removeOptOutEvent=function(e){n.removeEvent("ATOptOutEvent",e)},n.dispatchOptOutEvent=function(e){n.optedOut=e,n.dispatchEvent("ATOptOutEvent","clientsideuserid")},n.userOptedOut=function(){n.dispatchOptOutEvent(!0)},n.userOptedIn=function(){n.dispatchOptOutEvent(!1)},n.isOptedOut=function(){if(null===n.optedOut){var e;if(e=null,n.isLocalStorageAvailable()&&(e=localStorage.getItem("atuserid")),null===e){var t=/(?:^| )atuserid=([^;]+)/.exec(document.cookie);null!==t&&(e=t[1])}if(null!==e)try{e=decodeURIComponent(e)}catch(e){}e&&null!==(e=n.jsonParse(e)||n.jsonParse(n.Base64.decode(e)))?e="OPT-OUT"===e.val:e=!1,n.optedOut=e}return!!n.optedOut},n.consentReceived=function(e){n.consent=!!e},n.consent=!0,n.isTabOpeningAction=function(e){var t=!1;return e&&(e.ctrlKey||e.shiftKey||e.metaKey||e.button&&1===e.button)&&(t=!0),t},n.CLICKS_REDIRECTION="redirection",n.CLICKS_FORM="form",n.CLICKS_MAILTO="mailto"};var n=function(e){var t,n=this,r=0,i=0,a=["dz"],o=function(e,t,n,r,i,a,o){return{param:e="&"+e+"=",paramSize:e.length,str:t,strSize:t.length,truncate:n,multihit:r,separator:i||"",encode:a,last:o}},s=function(e,t){var n,r="",i=0,a=0,o=0,s=(i=-1,null),l=null;for(n in e)e.hasOwnProperty(n)&&(s=e[n])&&(i=t-a,s.last&&null!==l?l[n]=s:s.strSize+s.paramSize<=i?(r+=s.param+s.str,a+=s.paramSize+s.strSize):(l=l||{},l[n]=s,s.truncate&&(o=i-s.paramSize,s.separator&&(i=s.str.substring(0,i),0<(i=s.encode?i.lastIndexOf(encodeURIComponent(s.separator)):i.lastIndexOf(s.separator))&&(o=i)),r+=s.param+s.str.substring(0,o),a+=s.paramSize+s.str.substring(0,o).length,l[n].str=s.str.substring(o,s.strSize),l[n].strSize=l[n].str.length)));return[r,l]},l=function(t,n,r){var l,u,c="",f=function(t){if(t==={})return[];var n,r=[];n={};var l,u,f,d,p,g,v,m,h,y=!1,T=void 0,b="";for(h in t)if(t.hasOwnProperty(h))if(g=p=d=f=!1,l=t[h]._value,"boolean"==typeof(u=t[h]._options||{}).encode&&(f=u.encode),"function"==typeof l&&(l=l()),l=l instanceof Array?l.join(u.separator||","):"object"==typeof l?ATInternet.Utils.jsonSerialize(l):void 0===l?"undefined":l.toString(),f&&(l=encodeURIComponent(l)),-1<ATInternet.Utils.arrayIndexOf(a,h)?d=!0:"boolean"==typeof u.truncate&&(d=u.truncate),"boolean"==typeof u.multihit&&(p=u.multihit),"boolean"==typeof u.last&&(g=u.last),l=o(h,l,d,p,u.separator,f,g),p)i-=l.paramSize+l.strSize,b+=l.param+l.str;else if(g)l.paramSize+l.strSize>i&&(l.str=l.str.substring(0,i-l.paramSize),l.strSize=l.str.length),v=h,m=l;else if(n[h]=l,n[h].paramSize+n[h].strSize>i&&!n[h].truncate){e.emit("Tracker:Hit:Build:Error",{lvl:"ERROR",msg:'Too long parameter: "'+n[h].param+'"',details:{value:n[h].str}}),y=!0,T=h;break}if(v&&(n[v]=m),t=(n=[n,y,T,b])[0],y=n[1],c=n[3],y&&((t=t[n=n[2]]).str=t.str.substring(0,i-t.paramSize),t.strSize=t.str.length,(y={}).mherr=o("mherr","1",!1,!1,"",!1,!1),y[n]=t,t=y),null===(t=s(t,i))[1])r=t[0];else for(r.push(t[0]);null!==t[1];)t=s(t[1],i),r.push(t[0]);return r},d="";if(e.buffer.presentInFilters(n,"hitType")||(n=e.buffer.addInFilters(n,"hitType",["page"])),n=e.buffer.addInFilters(n,"hitType",["all"]),ATInternet.Utils.isObject(t)){for(l in n=e.buffer.addInFilters(n,"permanent",!0),n=e.buffer.get(n,!0),t)t.hasOwnProperty(l)&&(d={},t[l]&&"object"==typeof t[l]&&t[l].hasOwnProperty("_value")?(u=t[l]._value,t[l].hasOwnProperty("_options")&&(d=t[l]._options)):u=t[l],(u=ATInternet.Utils.privacy.testBufferParam(l,u)).toSetInBuffer&&(n[l]={_value:u.value,_options:d}));d=f(n)}else for(l in d=f(n=e.buffer.get(n,!0)),n)n.hasOwnProperty(l)&&(n[l]._options&&n[l]._options.permanent||e.buffer.del(l));r&&r(d,c)};n.getCollectDomain=function(){var t="",n=(t=e.getConfig("logSSL")||e.getConfig("log"),e.getConfig("domain"));return t&&n?t+"."+n:e.getConfig("collectDomainSSL")||e.getConfig("collectDomain")};var u=function(t){var r="";a=e.getConfig("baseURL");if(a)r=a;else{var i,a=n.getCollectDomain();"/"!==(i=(i=e.getConfig("pixelPath"))||"/").charAt(0)&&(i="/"+i),a&&(r=(e.getConfig("forceHttp")?"http://":"https://")+a+i)}a=e.getConfig("site"),r&&a?t&&t(null,r+"?s="+a):t&&t({message:"Config error"})},c=function(e,t,n){u((function(a,o){a?n&&n(a):(i=r-(o.length+27),l(e,t,(function(e,t){var r=[],i=ATInternet.Utils.uuid().num(13);if(e instanceof Array)for(var a=1;a<=e.length;a++)r.push(o+t+"&mh="+a+"-"+e.length+"-"+i+e[a-1]);else r.push(o+t+e);n&&n(null,r)})))}))},f=function(t,n,r,i,a,o,s){return function(l){e.emit(t,{lvl:a,details:{hit:n,method:r,event:l,isMultiHit:o,elementType:s}}),i&&i()}};n.send=function(t,r,i,a,o){c(t,r,(function(t,r){if(t)e.emit("Tracker:Hit:Build:Error",{lvl:"ERROR",msg:t.message,details:{}}),i&&i();else for(var s=0;s<r.length;s++)n.sendUrl(r[s],i,a,o)}))},r=Math.max(e.getConfig("maxHitSize")||0,2e3),i=Math.max(e.getConfig("maxHitSize")||0,2e3),t=e.getConfig("requestMethod"),n.sendUrl=function(n,r,i,a){var o=-1<n.indexOf("&mh=");i=i||t,ATInternet.Utils.isOptedOut()&&!e.getConfig("sendHitWhenOptOut")?f("Tracker:Hit:Sent:NoTrack",n,i,r,"INFO",o,a)():"POST"===i&&ATInternet.Utils.isBeaconMethodAvailable()?(a="Tracker:Hit:Sent:Error",i="ERROR",window.navigator.sendBeacon(n,null)&&(a="Tracker:Hit:Sent:Ok",i="INFO"),f(a,n,"POST",r,i,o,"")()):((i=new Image).onload=f("Tracker:Hit:Sent:Ok",n,"GET",r,"INFO",o,a),i.onerror=f("Tracker:Hit:Sent:Error",n,"GET",r,"ERROR",o,a),i.src=n)}},r=function(){function e(e,t,n){for(var r=[],i=0;i<e.length;i++)e[i].callback(t,n),e[i].singleUse||r.push(e[i]);return r}function t(e,n,r,i){var a=e.shift();return"*"===a?(n["*"]=n["*"]||[],n["*"].push({callback:r,singleUse:i}),n["*"].length-1):0===e.length?t([a,"*"],n,r,i):(n["*"]=n["*"]||[],n[a]=n[a]||{},t(e,n[a],r,i))}function n(t,r,i,a){var o=r.shift();"*"!==o&&(0===r.length?n(t,[o,"*"],i,a):i[o]&&(i[o]["*"]=e(i[o]["*"],t,a),n(t,r,i[o],a)))}var r={};this.on=function(e,n,i){return i=i||!1,t(e.split(":"),r,n,i)},this.emit=function(t,i){r["*"]&&(r["*"]=e(r["*"],t,i)),n(t,t.split(":"),r,i)}},i=function(e){var t={},n={},r=0,i={},a=0,o=function(e){var n=!1;return t[e]&&(n=!0),n},s=this.unload=function(n){return o(n)?(t[n]=void 0,e.emit("Tracker:Plugin:Unload:"+n+":Ok",{lvl:"INFO"})):e.emit("Tracker:Plugin:Unload:"+n+":Error",{lvl:"ERROR",msg:"not a known plugin"}),e},l=this.load=function(i,a){return"function"==typeof a?void 0===e.getConfig.plgAllowed||0===e.getConfig.plgAllowed.length||-1<e.getConfig.plgAllowed.indexOf(i)?(t[i]=new a(e),n[i]&&o(i)&&(n[i]=!1,r--,o(i+"_ll")&&s(i+"_ll"),0===r&&e.emit("Tracker:Plugin:Lazyload:File:Complete",{lvl:"INFO",msg:"LazyLoading triggers are finished"})),e.emit("Tracker:Plugin:Load:"+i+":Ok",{lvl:"INFO"})):e.emit("Tracker:Plugin:Load:"+i+":Error",{lvl:"ERROR",msg:"Plugin not allowed",details:{}}):e.emit("Tracker:Plugin:Load:"+i+":Error",{lvl:"ERROR",msg:"not a function",details:{obj:a}}),e},u=this.isLazyloading=function(e){return e?!0===n[e]:0!==r},c=function(e){return!o(e)&&!u(e)&&o(e+"_ll")},f=function(t){n[t]=!0,r++,ATInternet.Utils.loadScript({url:e.getConfig("lazyLoadingPath")+t+".js"})},d=function(e){return!!c(e)&&(f(e),!0)},p=function(e,n,r,i){var a=null;n=n.split("."),o(e)&&t[e][n[0]]&&(a=1<n.length&&t[e][n[0]][n[1]]?t[e][n[0]][n[1]].apply(t[e],r):t[e][n[0]].apply(t[e],r)),i&&i(a)},g=function(t,n,r,o){!function(e){i[e]?i[e]++:i[e]=1,a++}(t),e.onTrigger("Tracker:Plugin:Load:"+t+":Ok",(function(){p(t,n,r,(function(n){i[t]--,0===--a&&e.emit("Tracker:Plugin:Lazyload:Exec:Complete",{lvl:"INFO",msg:"All exec waiting for lazyloading are done"}),o&&o(n)}))}),!0)};this.isExecWaitingLazyloading=function(){return 0!==a},e.exec=this.exec=function(e,t,n,r){c(e)?(g(e,t,n,r),f(e)):u(e)?g(e,t,n,r):p(e,t,n,r)},this.waitForDependencies=function(n,r){var i=function(e){for(var n={mcount:0,plugins:{}},r=0;r<e.length;r++)t.hasOwnProperty(e[r])||(n.mcount++,n.plugins[e[r]]=!0);return n}(n);if(0===i.mcount)e.emit("Tracker:Plugin:Dependencies:Loaded",{lvl:"INFO",details:{dependencies:n}}),r();else for(var a in i.plugins)i.plugins.hasOwnProperty(a)&&(e.emit("Tracker:Plugin:Dependencies:Error",{lvl:"WARNING",msg:"Missing plugin "+a}),e.onTrigger("Tracker:Plugin:Load:"+a,(function(e,t){var n=e.split(":"),a=n[3];"Ok"===n[4]&&(i.plugins[a]=!1,i.mcount--,0===i.mcount&&r())}),!0),d(a))},this.init=function(){for(var e in ATInternet.Tracker.pluginProtos)ATInternet.Tracker.pluginProtos.hasOwnProperty(e)&&l(e,ATInternet.Tracker.pluginProtos[e])}},a=function(e){var t=this,n={},r=function(n){if(n.name){var r=!0,i=e.getConfig("callbacks");void 0!==i&&(i.include instanceof Array&&-1===ATInternet.Utils.arrayIndexOf(i.include,n.name)&&(r=!1),i.exclude instanceof Array&&-1!==ATInternet.Utils.arrayIndexOf(i.exclude,n.name)&&(r=!1)),ATInternet.Callbacks&&ATInternet.Callbacks.hasOwnProperty(n.name)&&(i={},i[n.name]={function:ATInternet.Callbacks[n.name]},r&&t.load(n.name,i[n.name].function),ATInternet.Tracker.callbackProtos[n.name]||(ATInternet.Tracker.callbackProtos[n.name]=i[n.name]))}};t.load=function(t,n){return"function"==typeof n?(new n(e),e.emit("Tracker:Callback:Load:"+t+":Ok",{lvl:"INFO",details:{obj:n}})):e.emit("Tracker:Callback:Load:"+t+":Error",{lvl:"ERROR",msg:"not a function",details:{obj:n}}),e},t.init=function(){if(e.getConfig("activateCallbacks")){var i=e.getConfig("callbacks");if(void 0!==i&&i.include instanceof Array)for(var a=0;a<i.include.length;a++)ATInternet.Callbacks&&ATInternet.Callbacks.hasOwnProperty(i.include[a])&&(n[i.include[a]]={function:ATInternet.Callbacks[i.include[a]]},ATInternet.Tracker.callbackProtos[i.include[a]]||(ATInternet.Tracker.callbackProtos[i.include[a]]=n[i.include[a]]));else for(a in ATInternet.Callbacks)ATInternet.Callbacks.hasOwnProperty(a)&&(n[a]={function:ATInternet.Callbacks[a]},ATInternet.Tracker.callbackProtos[a]||(ATInternet.Tracker.callbackProtos[a]=n[a]));if(void 0!==i&&i.exclude instanceof Array)for(a=0;a<i.exclude.length;a++)delete n[i.exclude[a]];for(var o in n)n.hasOwnProperty(o)&&n[o]&&t.load(o,n[o].function);ATInternet.Utils.addCallbackEvent(r)}},t.removeCallbackEvent=function(){ATInternet.Utils.removeCallbackEvent(r)}},o=function(e){var t=this,n={};t.set=function(e,t,r){(t=ATInternet.Utils.privacy.testBufferParam(e,t)).toSetInBuffer&&((r=r||{}).hitType=r.hitType||["page"],n[e]={_value:t.value,_options:r})};var r=function(e,t,n){return(e=ATInternet.Utils.cloneSimpleObject(e[t]))&&!n?e._value:e},i=function e(t,r){if(!(t&&r instanceof Array&&t instanceof Array))return[];if(0===t.length)return r;var i,a=t[0],o=[],s=ATInternet.Utils.cloneSimpleObject(t);s.shift();for(var l=0;l<r.length;l++)if("object"!=typeof a[1])n[r[l]]&&n[r[l]]._options[a[0]]===a[1]&&o.push(r[l]);else{i=a[1].length;for(var u=0;u<i;u++)if(n[r[l]]&&n[r[l]]._options[a[0]]instanceof Array&&0<=ATInternet.Utils.arrayIndexOf(n[r[l]]._options[a[0]],a[1][u])){o.push(r[l]);break}}return e(s,o)};t.get=function(e,t){var a={};if("string"==typeof e)a=r(n,e,t);else for(var o=i(e,ATInternet.Utils.getObjectKeys(n)),s=0;s<o.length;s++)a[o[s]]=r(n,o[s],t);return a},t.presentInFilters=function(e,n){return!(!e||0===e.length)&&(e[0][0]===n||t.presentInFilters(e.slice(1),n))},t.addInFilters=function(e,n,r,i){if(!e||0===e.length)return i?[]:[[n,r]];var a=e[0][0],o=e[0][1];return a===n&&(o instanceof Array&&-1===ATInternet.Utils.arrayIndexOf(o,r[0])&&o.push(r[0]),i=!0),[[a,o]].concat(t.addInFilters(e.slice(1),n,r,i))},t.del=function(e){n[e]=void 0},t.clear=function(){n={}}},s=function(e){var t=this,n={};t.setProp=function(e,t,r){void 0!==e&&(n[e]={value:t,persistent:!!r})},t.setProps=function(e,n){if(ATInternet.Utils.isObject(e))for(var r in e)e.hasOwnProperty(r)&&t.setProp(r,e[r],n)},t.delProp=function(t,r){void 0!==n[t]&&delete n[t],!r&&e.delParam(t.toLowerCase())},t.delProps=function(e){for(var r in n)n.hasOwnProperty(r)&&t.delProp(r,e)},t.getProp=function(e){return(n=n||{})[e]},t.getProps=function(){return n}};ATInternet.Tracker.Tag=function(e,l,u){l=l||{};var c=this;c.version="5.28.0";var f=ATInternet.Utils.cloneSimpleObject(l);c.triggers=new r(c),c.emit=c.triggers.emit,c.onTrigger=c.triggers.on;var d,p=ATInternet.Utils.cloneSimpleObject(t)||{};for(d in e)e.hasOwnProperty(d)&&(p[d]=e[d]);if(c.getConfig=function(e){return p[e]},c.setConfig=function(e,t,n){void 0!==p[e]&&n||(c.emit("Tracker:Config:Set:"+e,{lvl:"INFO",details:{bef:p[e],aft:t}}),p[e]=t)},c.configPlugin=function(e,t,n){for(var r in p[e]=p[e]||{},t)t.hasOwnProperty(r)&&void 0===p[e][r]&&(p[e][r]=t[r]);return n&&(n(p[e]),c.onTrigger("Tracker:Config:Set:"+e,(function(e,t){n(t.details.aft)}))),p[e]},c.getAllContext=function(){return f},c.getContext=function(e){return f[e]},c.setContext=function(e,t){c.emit("Tracker:Context:Set:"+e,{lvl:"INFO",details:{bef:f[e],aft:t}}),f[e]=t},c.delContext=function(e,t){if(c.emit("Tracker:Context:Deleted:"+e+":"+t,{lvl:"INFO",details:{key1:e,key2:t}}),e)f.hasOwnProperty(e)&&(t?f[e]&&f[e].hasOwnProperty(t)&&(f[e][t]=void 0):f[e]=void 0);else if(t)for(var n in f)f.hasOwnProperty(n)&&f[n]&&f[n].hasOwnProperty(t)&&(f[n][t]=void 0)},c.plugins=new i(c),c.buffer=new o(c),c.setParam=c.buffer.set,c.getParams=function(e){return c.buffer.get(e,!1)},c.getParam=c.buffer.get,c.delParam=c.buffer.del,c.builder=new n(c),c.sendUrl=c.builder.sendUrl,c.callbacks=new a(c),c.properties=new s(c),c.setProp=c.properties.setProp,c.setProps=c.properties.setProps,c.delProp=c.properties.delProp,c.delProps=c.properties.delProps,c.getProp=c.properties.getProp,c.getProps=c.properties.getProps,c.sendHit=function(e,t,n,r,i){var a,o,s=c.getProps();for(o in s)s.hasOwnProperty(o)&&(a=s[o].value,s[o].persistent?c.setParam(o.toLowerCase(),a,{permanent:!0,hitType:["all"],encode:!0}):(ATInternet.Utils.isObject(e)?e[o.toLowerCase()]={_value:a,_options:{hitType:["all"],encode:!0}}:c.setParam(o.toLowerCase(),a,{hitType:["all"],encode:!0}),c.delProp(o,!0)));c.builder.send(e,t,n,r,i)},ATInternet.Utils.privacy.resetParameters(),c.setParam("ts",(function(){return(new Date).getTime()}),{permanent:!0,hitType:["all"]}),(c.getConfig("disableCookie")||c.getConfig("disableStorage"))&&c.setParam("idclient",ATInternet.Utils.privacy.CONSENTNO,{permanent:!0,hitType:["all"]}),c.getConfig("medium")&&c.setParam("medium",c.getConfig("medium"),{permanent:!0,hitType:["all"]}),c.getConfig("urlPropertyAuto")&&"undefined"!=typeof window&&void 0!==window.location){d=(c.getConfig("urlPropertyQueryString")?window.location.href:window.location.protocol+"//"+window.location.host+window.location.pathname).replace(/[<>]/g,"").substring(0,1600).replace(/&/g,"$").replace(/#/g,"Âµ");var g=c.getContext("page")||{};g.url=window.encodeURIComponent(d),c.setContext("page",g),c.setParam("page_url",d,{permanent:!0,hitType:"page click publisher selfPromotion onSiteAdsClick onSiteAdsImpression InternalSearch mvtesting richmedia".split(" ")})}c.plugins.init(),c.callbacks.init(),c.emit("Tracker:Ready",{lvl:"INFO",msg:"Tracker initialized",details:{tracker:c,args:{config:e,context:l,callback:u}}}),u&&u(c),ATInternet.Tracker.instances.push(c)},ATInternet.Tracker.instances=[],ATInternet.Tracker.pluginProtos={},ATInternet.Tracker.addPlugin=function(e,t){if(t=t||ATInternet.Tracker.Plugins[e],!ATInternet.Tracker.pluginProtos[e]){ATInternet.Tracker.pluginProtos[e]=t;for(var n=0;n<ATInternet.Tracker.instances.length;n++)ATInternet.Tracker.instances[n].plugins.load(e,t)}},ATInternet.Tracker.delPlugin=function(e){if(ATInternet.Tracker.pluginProtos[e]){ATInternet.Tracker.pluginProtos[e]=void 0;for(var t=0;t<ATInternet.Tracker.instances.length;t++)ATInternet.Tracker.instances[t].plugins.unload(e)}},ATInternet.Tracker.callbackProtos={}}).call(window),function(){var e={};ATInternet.Tracker.Plugins.Storage=function(t){var n=this,r=!1,i=null;t.configPlugin("Storage",e||{},(function(e){"localStorage"===e.storageMode&&(r=ATInternet.Utils.isLocalStorageAvailable())}));var a={},o=function(e){return t.getConfig("base64Storage")?ATInternet.Utils.Base64.encode(e):encodeURIComponent(e)},s=function(e){return t.getConfig("base64Storage")?ATInternet.Utils.Base64.decode(e):decodeURIComponent(e)};i=r?new function(){var e=function(e){var t,n=+new Date,r=!1;return e.options&&(void 0!==e.options.expires?t=e.options.expires:"function"==typeof(e=e.options.end||{}).getTime?t=e.getTime():"number"==typeof e&&(t=n+1e3*e)),"number"==typeof t&&n>=t&&(r=!0),{itemToDelete:r,timestamp:t}},t=function(e){var t=!1;try{localStorage.removeItem(e),t=!0}catch(e){}return t};this.getData=function(n){var r=null;if(i=localStorage.getItem(n)){var i=s(i),a=ATInternet.Utils.jsonParse(i);a&&"object"==typeof a?e(a).itemToDelete&&t(n)||(delete a.options.expires,r=ATInternet.Utils.jsonSerialize(a)):r=i}return r},this.setData=function(n){var r=!1;if(n.name&&"string"==typeof n.name){var i=e(n);"number"==typeof i.timestamp&&(n.options.expires=i.timestamp);var a=ATInternet.Utils.jsonSerialize(n);if(i.itemToDelete)r=t(n.name);else try{localStorage.setItem(n.name,o(a)),r=!0}catch(e){}}return r}}:new function(){this.getData=function(e){var t=null;return(e=RegExp("(?:^| )"+e+"=([^;]+)").exec(document.cookie)||null)&&(t=s(e[1])),t},this.setData=function(e){var n=!1;if(e.name&&"string"==typeof e.name){var r=e.options||{},i=r.end||{},a=r.domain||t.getConfig("cookieDomain"),s=r.secure||t.getConfig("cookieSecure"),l=ATInternet.Utils.jsonSerialize(e);l=(l=(l=e.name+"="+o(l))+(r.path&&"string"==typeof r.path?";path="+r.path:""))+(a&&"string"==typeof a?";domain="+a:"")+(s&&"boolean"==typeof s?";secure":"");"function"==typeof i.toUTCString?l+=";expires="+i.toUTCString():"number"==typeof i&&(l+=";max-age="+i.toString()),document.cookie=l,this.getData(e.name)&&(n=!0)}return n}};var l=function(e,n){var r=!1;return e&&"object"==typeof e&&(n||ATInternet.Utils.consent&&!t.getConfig("disableCookie")&&!t.getConfig("disableStorage"))&&(r=i.setData(e)),r},u=function(e,t,n){return e={name:e,val:t},n&&n.session&&"number"==typeof n.session&&(n.end=n.session),e.options=n||{},e},c=function(e){var n=null,r=null;return t.getConfig("disableCookie")||t.getConfig("disableStorage")||!e||"string"!=typeof e||(r=i.getData(e)),(e=r)&&(n=ATInternet.Utils.jsonParse(e)),n},f=function(e,t){var n=ATInternet.Utils.cloneSimpleObject(e);return l(n,t)?ATInternet.Utils.jsonParse(ATInternet.Utils.jsonSerialize(e)):null},d=function(e,t,n){return!n&&a[e]?n=a[e]:(n=c(e))&&(n.options=n.options||{},n.options.session&&"number"==typeof n.options.session&&(n.options.end=n.options.session,f(n,!1)),a[e]=n),n?t?(e=null,!n||"object"!=typeof n.val||n.val instanceof Array||void 0===n.val[t]||(e=n.val[t]),e):n.val:null},p=function(e,t,n,r,i){return t?(i=c(e))&&(!i||"object"!=typeof i.val||i.val instanceof Array?i=null:void 0===n?delete i.val[t]:i.val[t]=n,i&&(i=f(i,r))):(i=u(e,n,i=i||{}),i=f(i,r)),i?(a[e]=i,i.val):null},g=function(e,t){if(t)p(e,t,void 0,!0,null);else{a[e]=void 0;var n=u(e,"",{end:new Date("Thu, 01 Jan 1970 00:00:00 UTC"),path:"/"});l(n,!0)}};t.storage={},t.storage.getAll=function(){return a},t.storage.get=n.get=function(e,t){return t=!!t,e instanceof Array?d(e[0],e[1],t):d(e,"",t)},t.storage.getPrivate=n.getPrivate=function(e,r){return e instanceof Array?e[0]+=t.getConfig("site"):e+=t.getConfig("site"),n.get(e,r)},t.storage.set=n.set=function(e,t,n,r){var i;return e instanceof Array?(i=e[0],e=e[1],n=null):(i=e,e=null),ATInternet.Utils.privacy.testStorageParam(i,e).toSetInStorage||r?p(i,e,t,r,n):null},t.storage.setPrivate=n.setPrivate=function(e,r,i){return e instanceof Array?e[0]+=t.getConfig("site"):e+=t.getConfig("site"),n.set(e,r,i)},t.storage.del=n.del=function(e){e instanceof Array?g(e[0],e[1]):g(e,"")},t.storage.delPrivate=n.delPrivate=function(e){e instanceof Array?e[0]+=t.getConfig("site"):e+=t.getConfig("site"),n.del(e)},t.storage.cacheInvalidation=n.cacheInvalidation=function(){a={}}},ATInternet.Tracker.addPlugin("Storage")}.call(window),function(){ATInternet.Tracker.Plugins.Utils=function(e){var t=this,n={};e.utils={},e.utils.getQueryStringValue=t.getQueryStringValue=function(e,t){var r=ATInternet.Utils.hashcode(t).toString();if(!n[r]){n[r]={};for(var i=RegExp("[&#?]{1}([^&=#?]*)=([^&#]*)?","g"),a=i.exec(t);null!==a;)n[r][a[1]]=a[2],a=i.exec(t)}return n[r].hasOwnProperty(e)?n[r][e]:null},e.utils.manageChapters=t.manageChapters=function(t,n,r){var i="";if(t)for(var a=e.getConfig("ignoreEmptyChapterValue"),o="",s=1;s<parseInt(r,10)+1;s++)o=t[n+s]||"",i=a?i+(o?o+"::":""):i+(t.hasOwnProperty(n+s)?o+"::":"");return i},e.utils.getDocumentLevel=t.getDocumentLevel=function(){var t=e.getConfig("documentLevel");return t?0>t.indexOf(".")?window[t]||document:(t=t.split("."),window[t[0]][t[1]]||document):document},e.utils.getLocation=t.getLocation=function(){return t.getDocumentLevel().location.href},e.utils.getHostName=t.getHostName=function(){return t.getDocumentLevel().location.hostname},e.dispatchIndex={},e.dispatchStack=[],e.dispatchEventFor={};var r=0;e.dispatchSubscribe=function(t){return!e.dispatchIndex[t]&&(e.dispatchStack.push(t),e.dispatchIndex[t]=!0)},e.dispatchSubscribed=function(t){return!0===e.dispatchIndex[t]},e.addSpecificDispatchEventFor=function(t){return!e.dispatchEventFor[t]&&(e.dispatchEventFor[t]=!0,r++,!0)},e.processSpecificDispatchEventFor=function(t){e.dispatchEventFor[t]&&(e.dispatchEventFor[t]=!1,0===--r&&(e.dispatchEventFor={},e.emit("Tracker:Plugin:SpecificEvent:Exec:Complete",{lvl:"INFO"})))},e.dispatch=function(t,n){var i=function(){for(var r="",i=null;0<e.dispatchStack.length;)r=e.dispatchStack.pop(),0===e.dispatchStack.length&&(i=t),e[r].onDispatch(i,n);e.dispatchIndex={},e.delContext(void 0,"customObject")},a=function(){e.plugins.isExecWaitingLazyloading()?e.onTrigger("Tracker:Plugin:Lazyload:Exec:Complete",(function(){i()}),!0):i()};0===r?a():e.onTrigger("Tracker:Plugin:SpecificEvent:Exec:Complete",(function(){a()}),!0)},e.dispatchRedirect=function(t){var n=!0,r="",i=null;return t&&(i=null,t.hasOwnProperty("event")&&(i=t.event||window.event),!ATInternet.Utils.isTabOpeningAction(i)&&t.elem&&e.plugins.exec("TechClicks","manageClick",[t.elem,i],(function(e){n=e.preservePropagation,r=e.elementType})),i=t.callback),e.dispatch(i,r),n},e.manageSend=function(t){ATInternet.Utils.isPreview()&&!e.getConfig("preview")||ATInternet.Utils.isPrerender((function(e){t(e)}))||t()},e.processTagObject=function(t,n,r){if((t=e.getParam(t,!0))&&t._options.permanent){for(var i=!1,a=t._options.hitType||[],o=0;o<a.length;o++)if(-1!==ATInternet.Utils.arrayIndexOf(n.concat("all"),a[o])){i=!0;break}i&&(r=ATInternet.Utils.completeFstLevelObj(t._value||{},r,!0))}return r},e.processContextObjectAndSendHit=function(t,n,r,i){var a={hitType:n.hitType,encode:n.encode,separator:n.separator,truncate:n.truncate},o=e.getParam(t,!0);if(o){for(var s=!1,l=o._options.hitType||[],u=0;u<l.length;u++)if(-1!==ATInternet.Utils.arrayIndexOf(n.hitType.concat("all"),l[u])){s=!0;break}s?((s=ATInternet.Utils.cloneSimpleObject(o))._value=ATInternet.Utils.completeFstLevelObj(s._value||{},r,!0),e.setParam(t,s._value,a),e.manageSend((function(){e.sendHit(null,[["hitType",n.hitType]],i,n.requestMethod,n.elementType)})),o._options.permanent&&e.setParam(t,o._value,o._options)):(e.setParam(t,r,a),e.manageSend((function(){e.sendHit(null,[["hitType",n.hitType]],i,n.requestMethod,n.elementType)})),e.setParam(t,o._value,o._options))}else e.setParam(t,r,a),e.manageSend((function(){e.sendHit(null,[["hitType",n.hitType]],i,n.requestMethod,n.elementType)}))}},ATInternet.Tracker.addPlugin("Utils")}.call(window),function(){var e={clicksAutoManagementEnabled:!0,clicksAutoManagementTimeout:500};ATInternet.Tracker.Plugins.TechClicks=function(t){var n,r,i=this,a=["Tracker:Hit:Sent:Ok","Tracker:Hit:Sent:Error","Tracker:Hit:Sent:NoTrack"],o=!1;t.configPlugin("TechClicks",e||{},(function(e){n=e.clicksAutoManagementEnabled,r=e.clicksAutoManagementTimeout}));var s=function(e){if(!o)switch(o=!0,e.target){case"_top":window.top.location.href=e.url;break;case"_parent":window.parent.location.href=e.url;break;default:window.location.href=e.url}},l=function(e){e.mailto?i.timeout=setTimeout((function(){window.location.href=e.mailto}),e.timeout):e.form?i.timeout=setTimeout((function(){e.form.submit()}),e.timeout):e.url&&(i.timeout=setTimeout((function(){s({url:e.url,target:e.target})}),e.timeout))},u=function(e){for(var n=0;n<a.length;n++)t.onTrigger(a[n],(function(t,n){e&&e(n)}))},c=function(e){for(var t,n="_self";e;){if(e.href&&0===e.href.indexOf("http")){t=e.href.split('"').join('\\"'),n=e.target?e.target:n;break}e=e.parentNode}t&&(u((function(e){e.details.isMultiHit||e.details.elementType!==ATInternet.Utils.CLICKS_REDIRECTION||(i.timeout&&clearTimeout(i.timeout),s({url:t,target:n}))})),l({url:t,target:n,timeout:r}))},f=function(e){for(var t=e;t&&"FORM"!==t.nodeName;)t=t.parentNode;t&&(u((function(e){e.details.isMultiHit||e.details.elementType!==ATInternet.Utils.CLICKS_FORM||(i.timeout&&clearTimeout(i.timeout),t.submit())})),l({form:t,timeout:r}))},d=function(e){for(var t=e;t&&!(t.href&&0<=t.href.indexOf("mailto:"));)t=t.parentNode;t&&(u((function(e){e.details.isMultiHit||e.details.elementType!==ATInternet.Utils.CLICKS_MAILTO||(i.timeout&&clearTimeout(i.timeout),window.location.href=t.href)})),l({mailto:t.href,timeout:r}))};i.isFormSubmit=function(e){for(;e;){if("FORM"===e.nodeName)return!0;e=e.parentNode}return!1},t.techClicks={},t.techClicks.manageClick=i.manageClick=function(e,t){var r=!0,i="";if(n&&e){var a;e:{for(i=e;i;){if("function"==typeof i.getAttribute&&("_blank"===i.getAttribute("target")||"no"===i.getAttribute("data-atclickmanagement"))){a=!0;break e}i=i.parentNode}i=e,a=window.location.href;for(var o;i;){if((o=i.href)&&0<=o.indexOf("#")&&a.substring(0,0<=a.indexOf("#")?a.indexOf("#"):a.length)===o.substring(0,o.indexOf("#"))){a=!0;break e}i=i.parentNode}a=!1}if(i=function(e){for(var t=e;t;){if(t.href){if(0<=t.href.indexOf("mailto:"))return ATInternet.Utils.CLICKS_MAILTO;if(0===t.href.indexOf("http"))return ATInternet.Utils.CLICKS_REDIRECTION}else if("FORM"===t.nodeName){var n=e;if(e=!1,n&&("form"===(t=(t=n.tagName||"").toLowerCase())?e=!0:(n=(n=n.getAttribute("type")||"").toLowerCase(),"button"===t?"reset"!==n&&"button"!==n&&(e=!0):"input"===t&&"submit"===n&&(e=!0))),e)return ATInternet.Utils.CLICKS_FORM;break}t=t.parentNode}return""}(e),!a&&i){switch(i){case ATInternet.Utils.CLICKS_MAILTO:d(e),r=!1;break;case ATInternet.Utils.CLICKS_FORM:f(e),r=!1;break;case ATInternet.Utils.CLICKS_REDIRECTION:c(e),r=!1}t&&(a=t.defaultPrevented,"function"==typeof t.isDefaultPrevented&&(a=t.isDefaultPrevented()),a||t.preventDefault&&t.preventDefault())}}return{preservePropagation:r,elementType:i}},t.techClicks.deactivateAutoManagement=function(){n=!1}},ATInternet.Tracker.addPlugin("TechClicks")}.call(window),function(){var e={requestMethod:"POST"};ATInternet.Tracker.Plugins.Clicks=function(t){var n={};t.configPlugin("Clicks",e||{},(function(e){n=e}));var r=function(e){var t="";switch(e){case"exit":t="S";break;case"download":t="T";break;case"action":t="A";break;case"navigation":t="N"}return t},i=function(e){return t.utils.manageChapters(e,"chapter",3)+(e.name?e.name:"")},a=function(e,a){var o={p:i(e),s2:e.level2||"",click:r(e.type)||""},s=["click"],l=t.getContext("page")||{};o.pclick=i(l),o.s2click=l.level2||"",(l=e.customObject)&&(l=t.processTagObject("stc",s,l),o.stc={_value:ATInternet.Utils.jsonSerialize(l),_options:{hitType:s,encode:!0,separator:",",truncate:!0}}),t.sendHit(o,[["hitType",s]],e.callback,n.requestMethod,a)};t.click={},t.clickListener={},t.click.send=function(e){var r=!0,i="",o=null;return(e=e||{}).hasOwnProperty("event")&&(o=e.event||window.event),!e.elem||"POST"===n.requestMethod&&ATInternet.Utils.isBeaconMethodAvailable()||ATInternet.Utils.isTabOpeningAction(o)||(r=(i=t.techClicks.manageClick(e.elem,o)).preservePropagation,i=i.elementType),a(e,i),r},t.clickListener.send=function(e){if((e=e||{}).elem){var r="click",i="";t.plugins.exec("TechClicks","isFormSubmit",[e.elem],(function(e){r=e?"submit":"click"})),ATInternet.Utils.addEvtListener(e.elem,r,(function(r){"POST"===n.requestMethod&&ATInternet.Utils.isBeaconMethodAvailable()||ATInternet.Utils.isTabOpeningAction(r)||(i=t.techClicks.manageClick(e.elem,r).elementType),a(e,i)}))}},t.click.set=function(e){e=e||{},t.dispatchSubscribe("click"),t.setContext("click",{name:i(e),level2:e.level2||"",customObject:e.customObject}),t.setParam("click",r(e.type)||"",{hitType:["click"]})},t.click.onDispatch=function(e,r){var a=["click"],o=t.getContext("click")||{},s=t.getContext("page")||{};t.setParam("pclick",i(s),{hitType:a}),t.setParam("s2click",s.level2||"",{hitType:a}),t.setParam("p",o.name,{hitType:a}),t.setParam("s2",o.level2,{hitType:a}),(o=o.customObject)?t.processContextObjectAndSendHit("stc",{hitType:a,encode:!0,separator:",",truncate:!0,requestMethod:n.requestMethod,elementType:r},o,e):t.manageSend((function(){t.sendHit(null,[["hitType",a]],e,n.requestMethod,r)})),t.delContext("click")}},ATInternet.Tracker.addPlugin("Clicks")}.call(window),function(){var e={clientSideMode:"always",userIdCookieDuration:397,userIdExpirationMode:"fixed",optOut:"OPT-OUT",userIdStorageName:"atuserid",userIdHitName:"idclient",itpCompliant:!1,baseDomain:""};ATInternet.Tracker.Plugins.ClientSideUserId=function(t){var n={},r=!1,i=null,a=-1;t.configPlugin("ClientSideUserId",e||{},(function(e){n=e}));var o=function(){var e=n.baseDomain;e||(r=t.getConfig("cookieDomain"))&&("."===(e=r).charAt(0)&&(e=e.substring(1,e.length)));var r=t.builder.getCollectDomain(),i=t.utils.getHostName();return!!(e&&r&&i&&-1!==r.indexOf(e)&&-1!==i.indexOf(e))},s=function(){i={contextUserId:void 0,storageUserId:null,finalUserId:null,isFromTrackerContext:!1,forceStorage:!1,optout:{isOptedout:!1,fromStorage:!1}}},l=function(){if("relative"===n.userIdExpirationMode||"fixed"===n.userIdExpirationMode&&null===i.storageUserId||i.isFromTrackerContext){var e=new Date;e.setTime(e.getTime()+864e5*n.userIdCookieDuration),t.storage.set(n.userIdStorageName,i.finalUserId,{end:e,path:"/"},i.forceStorage),ATInternet.Utils.consent&&!i.isFromTrackerContext&&i.finalUserId!==t.storage.get(n.userIdStorageName,!0)&&t.setParam(n.userIdHitName,i.finalUserId+"-NO",{multihit:!0,permanent:!0,hitType:["all"]})}},u=function(){t.setParam(n.userIdHitName,i.finalUserId,{multihit:!0,permanent:!0,hitType:["all"]}),l()},c=function(){s();var e=!1;if(null===ATInternet.Utils.optedOut?t.storage.get(n.userIdStorageName,!0)===n.optOut?e=ATInternet.Utils.optedOut=!0:ATInternet.Utils.optedOut=!1:!1===ATInternet.Utils.optedOut&&(t.getParam(n.userIdHitName)===n.optOut&&t.delParam(n.userIdHitName),t.storage.get(n.userIdStorageName,!0)===n.optOut&&t.storage.del(n.userIdStorageName)),i.optout.isOptedout=ATInternet.Utils.optedOut,i.optout.fromStorage=e,i.contextUserId=t.getContext("userIdentifier"),i.storageUserId=t.storage.get("atuserid",!0),e=!1,"required"===n.clientSideMode){var a="";window.navigator&&(a=window.navigator.userAgent),(/Safari/.test(a)&&!/Chrome/.test(a)||/iPhone|iPod|iPad/.test(a))&&(e=!0)}else"always"===n.clientSideMode&&(e=!0);if(r=e,e=!1,!t.getConfig("forceHttp")&&n.itpCompliant&&void 0===i.contextUserId&&!i.optout.isOptedout)switch(n.clientSideMode){case"never":e=o();break;case"always":case"required":r&&null!==i.storageUserId||(e=o())}e||!r&&!i.optout.isOptedout&&void 0===i.contextUserId?t.setConfig("userIdOrigin","server"):(t.setConfig("userIdOrigin","client"),i.isFromTrackerContext=!1,i.forceStorage=!1,i.optout.isOptedout?(i.finalUserId=n.optOut,i.isFromTrackerContext=!i.optout.fromStorage,i.forceStorage=!0):t.getConfig("disableCookie")||t.getConfig("disableStorage")?(i.finalUserId=t.getParam(n.userIdHitName),i.isFromTrackerContext=!0):void 0!==i.contextUserId?(i.finalUserId=i.contextUserId,i.isFromTrackerContext=!0):i.finalUserId=null!==i.storageUserId?i.storageUserId:ATInternet.Utils.uuid().v4(),u())},f=function(e){e&&(e=e.detail)&&"clientsideuserid"===e.name&&e.id===a&&c()};t.plugins.waitForDependencies(["Storage","Utils"],(function(){var e=ATInternet.Utils.uuid();a=parseInt(e.num(8)),ATInternet.Utils.removeOptOutEvent(f),ATInternet.Utils.addOptOutEvent(a,f),c()})),t.clientSideUserId={},t.clientSideUserId.set=function(e){i.optout.isOptedout||(i.finalUserId=e,i.isFromTrackerContext=!0,i.forceStorage=!1,u())},t.clientSideUserId.store=function(){i.finalUserId=t.getParam(n.userIdHitName)||i.finalUserId,null!==i.finalUserId&&i.finalUserId!==ATInternet.Utils.privacy.CONSENTNO&&i.finalUserId!==i.storageUserId&&(i.isFromTrackerContext=!0,i.forceStorage=!0,l())},t.clientSideUserId.get=function(){return i.finalUserId=t.getParam(n.userIdHitName)||i.finalUserId,i.finalUserId},t.clientSideUserId.clear=function(){s(),t.delParam(n.userIdHitName),t.storage.del(n.userIdStorageName)}},ATInternet.Tracker.addPlugin("ClientSideUserId")}.call(window),function(){var e={domainAttribution:!0},t=30;ATInternet.Tracker.Plugins.ContextVariables=function(n){var r,i="",a=null,o="",s="",l={};n.configPlugin("ContextVariables",e||{},(function(e){l=e})),n.setConfig("redirectionLifetime",t,!0);var u=function(e,t){var r=null;return n.plugins.exec("Storage",e,t,(function(e){r=e})),r},c=function(){n.setParam("vtag",n.version,{permanent:!0,hitType:["all"]})},f=function(){n.setParam("ptag","js",{permanent:!0,hitType:["all"]})},d=function(){var e="";try{e+=window.screen.width+"x"+window.screen.height+"x"+window.screen.pixelDepth+"x"+window.screen.colorDepth}catch(e){}n.setParam("r",e,{permanent:!0,hitType:["all"]})},p=function(){var e="";window.innerWidth?e+=window.innerWidth+"x"+window.innerHeight:document.body&&document.body.offsetWidth&&(e+=document.body.offsetWidth+"x"+document.body.offsetHeight),n.setParam("re",e,{permanent:!0,hitType:["all"]})},g=function(){window.navigator&&n.setParam("lng",window.navigator.language||window.navigator.userLanguage,{permanent:!0,hitType:["all"]})},v=function(){var e=ATInternet.Utils.uuid().num(13);n.setParam("idp",e,{permanent:!0,hitType:["page","clickzone"]})},m=function(){window.navigator&&n.setParam("jv",window.navigator.javaEnabled()?"1":"0",{hitType:["page"]})},h=function(){n.setParam("hl",(function(){var e=new Date;return e.getHours()+"x"+e.getMinutes()+"x"+e.getSeconds()}),{permanent:!0,hitType:["all"]})},y=function(){var e=n.utils.getDocumentLevel();n.setParam("ref",function(e){return(e=r||("acc_dir"===i?"":null!==i?i:"acc_dir"===a?"":a||(e?e.referrer:"")))&&(e=e.replace(/[<>]/g,"").substring(0,1600).replace(/&/g,"$")),e}(e),{permanent:!0,last:!0,hitType:["page","ecommerce","avinsights","events"]})},T=function(){o="set"+(l.domainAttribution?"":"Private"),s="get"+(l.domainAttribution?"":"Private");var e=n.utils.getLocation();if(void 0===(i=n.utils.getQueryStringValue("xtref",e))&&(i=""),r=n.getContext("forcedReferer"),n.getConfig("redirect")){var t;e=n.utils.getDocumentLevel();if(t=e=r||(null!==i?i:e?e.referrer:"acc_dir")){t={path:"/",end:n.getConfig("redirectionLifetime")};var T=u(s,["atredir"]);null!==T?t="object"==typeof T&&!(T instanceof Array):(u(o,["atredir",{},t]),t=!0)}t&&u(o,[["atredir","ref"],e])}else a=u(s,[["atredir","ref"]]),u("del",[["atredir","ref"]]),c(),f(),d(),p(),h(),g(),v(),m(),y();n.emit("ContextVariables:Ready",{lvl:"INFO"})};n.contextVariables={},n.contextVariables.params={},n.contextVariables.params.vtag=c,n.contextVariables.params.ptag=f,n.contextVariables.params.r=d,n.contextVariables.params.re=p,n.contextVariables.params.lng=g,n.contextVariables.params.idp=v,n.contextVariables.params.jv=m,n.contextVariables.params.hl=h,n.contextVariables.params.ref=y,n.contextVariables.setAll=T,n.plugins.waitForDependencies(["Storage","Utils"],T)},ATInternet.Tracker.addPlugin("ContextVariables")}.call(window),function(){ATInternet.Tracker.Plugins.Page=function(e){var t=["pageId","chapterLabel","update"],n=["pid","pchap","pidt"],r=["page","site"],i=["f","x"],a=function(t){return e.utils.manageChapters(t,"chapter",3)+(t.name?t.name:"")},o=function(e,t,n){return t?e=t:e||void 0===n||(e=n),e},s=function(e,t,n){t.hasOwnProperty(n)&&(e[n]=o(e[n],t[n],void 0))},l=function(t,n,a){if(n)for(var o=0;o<r.length;o++)if(n.hasOwnProperty(r[o])&&n[r[o]])for(var s in n[r[o]])n[r[o]].hasOwnProperty(s)&&(a?t[i[o]+s]=n[r[o]][s]:e.setParam(i[o]+s,n[r[o]][s]))},u=function(r,i,a){if(i){var o=e.utils.manageChapters(i,"chapter",3);for(o&&(i.chapterLabel=o.replace(/::$/gi,"")),o=0;o<n.length;o++)i.hasOwnProperty(t[o])&&(a?r[n[o]]=i[t[o]]:e.setParam(n[o],i[t[o]]))}},c=function(t,n,r){if(n&&n.keywords instanceof Array){var i=n.keywords.length;if(0<i){for(var a="",o=0;o<i;o++)a+="["+n.keywords[o]+"]"+(o<i-1?"|":"");r?t.tag=a:e.setParam("tag",a)}}},f=function(t,n,r){if(n){var i,a=function(e){return e||"0"};i=a(n.category1)+"-",i+=a(n.category2)+"-",i+=a(n.category3),r?t.ptype=i:e.setParam("ptype",i)}},d=function(t,n,r){if(n)for(var i in n)n.hasOwnProperty(i)&&void 0!==n[i]&&(r?t[i]=n[i]:e.setParam(i,n[i]))};e.customVars={},e.customVars.set=function(t){var n=e.getContext("page")||{},r=n.customVars;if(r){if(t)for(var i in t)t.hasOwnProperty(i)&&(r[i]=ATInternet.Utils.completeFstLevelObj(r[i],t[i],!0))}else r=t;n.customVars=r,e.setContext("page",n)},e.dynamicLabel={},e.dynamicLabel.set=function(t){var n=e.getContext("page")||{};n.dynamicLabel=ATInternet.Utils.completeFstLevelObj(n.dynamicLabel,t,!0),e.setContext("page",n)},e.tags={},e.tags.set=function(t){var n=e.getContext("page")||{};n.tags=ATInternet.Utils.completeFstLevelObj(n.tags,t,!0),e.setContext("page",n)},e.customTreeStructure={},e.customTreeStructure.set=function(t){var n=e.getContext("page")||{};n.customTreeStructure=ATInternet.Utils.completeFstLevelObj(n.customTreeStructure,t,!0),e.setContext("page",n)},e.page={},e.page.reset=function(){e.delContext("page")},e.page.set=function(t){t=t||{},e.dispatchSubscribe("page");var n=e.getContext("page")||{};n.name=o(n.name,t.name,""),n.level2=o(n.level2,t.level2,""),s(n,t,"chapter1"),s(n,t,"chapter2"),s(n,t,"chapter3"),n.customObject=ATInternet.Utils.completeFstLevelObj(n.customObject,t.customObject,!0),e.setContext("page",n)},e.page.send=function(t){var n=!0,r="",i={p:a(t=t||{}),s2:t.level2||""};if(g=t.customObject){var p=["page"],g=e.processTagObject("stc",p,g);i.stc={_value:ATInternet.Utils.jsonSerialize(g),_options:{hitType:p,encode:!0,separator:",",truncate:!0}}}return(g=e.getContext("page")||{}).vrn&&(i.vrn=g.vrn,e.delContext("page","vrn")),void 0!==(p=e.getContext("InternalSearch")||{}).keyword&&(i.mc=ATInternet.Utils.cloneSimpleObject(p.keyword),void 0!==p.resultPageNumber&&(i.np=ATInternet.Utils.cloneSimpleObject(p.resultPageNumber)),e.delContext("InternalSearch")),ATInternet.Utils.isPreview()&&e.getConfig("preview")&&(i.pvw=1),l(i,t.customVars,!0),u(i,t.dynamicLabel,!0),c(i,t.tags,!0),f(i,t.customTreeStructure,!0),p=e.getContext("campaigns")||{},d(i,p,!0),e.delContext("campaigns"),p=null,t&&t.hasOwnProperty("event")&&(p=t.event||window.event),!ATInternet.Utils.isTabOpeningAction(p)&&t.elem&&(n=(p=e.techClicks.manageClick(t.elem,p)).preservePropagation,r=p.elementType),e.manageSend((function(){e.sendHit(i,null,t.callback,null,r)})),g.name=o(g.name,t.name,""),g.level2=o(g.level2,t.level2,""),s(g,t,"chapter1"),s(g,t,"chapter2"),s(g,t,"chapter3"),e.setContext("page",g),n},e.page.onDispatch=function(t,n){var r=e.getContext("page")||{},i=e.getContext("InternalSearch")||{};e.setParam("p",a(r)),e.setParam("s2",r.level2||""),r.vrn&&(e.setParam("vrn",r.vrn),e.delContext("page","vrn")),void 0!==i.keyword&&(e.setParam("mc",ATInternet.Utils.cloneSimpleObject(i.keyword)),void 0!==i.resultPageNumber&&e.setParam("np",ATInternet.Utils.cloneSimpleObject(i.resultPageNumber)),e.delContext("InternalSearch")),ATInternet.Utils.isPreview()&&e.getConfig("preview")&&e.setParam("pvw",1),l(null,r.customVars,!1),u(null,r.dynamicLabel,!1),c(null,r.tags,!1),f(null,r.customTreeStructure,!1),i=e.getContext("campaigns")||{},d(null,i,!1),e.delContext("campaigns");var o=["page"];(r=r.customObject)?e.processContextObjectAndSendHit("stc",{hitType:o,encode:!0,separator:",",truncate:!0,elementType:n},r,t):e.manageSend((function(){e.sendHit(null,[["hitType",o]],t,null,n)}))}},ATInternet.Tracker.addPlugin("Page")}.call(window),function(){var e={lifetime:182,domainAttribution:!0},t=30;ATInternet.Tracker.Plugins.IdentifiedVisitor=function(n){var r=null,i=null,a=null,o=null,s="",l="",u=null,c=null,f="",d="",p="",g={};n.configPlugin("IdentifiedVisitor",e||{},(function(e){g=e})),n.setConfig("redirectionLifetime",t,!0);var v=function(e,t){var r=null;return n.plugins.exec("Storage",e,t,(function(e){r=e})),r},m=function(e,t){var n=v(d,[e,!0]);return null!==n?"object"==typeof n&&!(n instanceof Array):(v(f,[e,{},t]),!0)},h=function(e,t){m("atidvisitor",{path:"/",session:86400*g.lifetime})&&v(f,[["atidvisitor",e],t])},y=function(e,t,r){n.setParam(e,t,{hitType:["all"],permanent:!0}),r&&h(e,t)},T=function(){var e=function(e,t){/-/.test(t)?(e.category=t.split("-")[0],e.id=t.split("-")[1]):e.id=t},t={category:"",id:""};e(t,l||c);var n={category:"",id:""};e(n,s||u),n.id?(n.category&&y("ac",n.category,!0),y("at",n.id,!0)):r&&(y("at",r,!1),a&&y("ac",a,!1)),t.id?(t.category&&y("ac",t.category,!0),y("an",t.id,!0)):i&&y("anc",a+"-"+i,!1)};n.plugins.waitForDependencies(["Storage","Utils"],(function(){f=g.domainAttribution?"set":"setPrivate",d=g.domainAttribution?"get":"getPrivate",p=g.domainAttribution?"del":"delPrivate";var e=n.utils.getLocation();s=n.utils.getQueryStringValue("xtat",e),l=n.utils.getQueryStringValue("xtan",e),n.getConfig("redirect")?(s||l)&&m("atredir",{path:"/",end:n.getConfig("redirectionLifetime")})&&(l&&v(f,[["atredir","an"],l]),s&&v(f,[["atredir","at"],s])):(u=v(d,[["atredir","at"]]),c=v(d,[["atredir","an"]]),v(p,[["atredir","at"]]),v(p,[["atredir","an"]]),r=v(d,[["atidvisitor","at"]]),i=v(d,[["atidvisitor","an"]]),a=v(d,[["atidvisitor","ac"]]),o=v(d,[["atidvisitor","vrn"]]),T(),e="-"+n.getConfig("site")+"-",RegExp(e).test(o)||(h("vrn",o=(o||"")+e),(e=n.getContext("page")||{}).vrn=1,n.setContext("page",e))),n.emit("IdentifiedVisitor:Ready",{lvl:"INFO",details:{storageRedirectTextual:u,storageRedirectNumeric:c,storageTextual:r,storageNumeric:i,storageCategory:a,storageVrn:o}})})),n.identifiedVisitor={},n.identifiedVisitor.set=function(e){var t=(e=e||{}).id;e=e.category,"number"==typeof t?y("an",t.toString(),!0):"string"==typeof t&&y("at",t,!0),void 0!==e&&y("ac",e,!0)},n.identifiedVisitor.unset=function(){for(var e=["an","at","ac"],t=0;t<e.length;t++)v(p,[["atidvisitor",e[t]]]),n.delParam(e[t]);n.delParam("anc")}},ATInternet.Tracker.addPlugin("IdentifiedVisitor")}.call(window),function(){var e={minHeartbeat:5,minBufferingHeartbeat:1};ATInternet.Tracker.Plugins.AvInsights=function(t){var n=null,r=function(){this.debugError={trigger:"AvInsights:Media:setContentValues:Error",level:"ERROR",messageObject:"Not an object"},this.processHeartbeatValue=function(e,t){var n=parseInt(e,10);return n?Math.max(n,t):0},this.value2Number=function(e){var t=0;return isNaN(Number(e))||(t=Number(e)),Math.max(t,0)}};t.avInsights={},t.avInsights.Media=function(e,i,a){var o=this,s=new r,l=null,u=null,c=null,f=function(e){e?l.delayBufferingConfiguration=ATInternet.Utils.cloneSimpleObject(l.delayBufferingConfigurationBackup):l.delayConfiguration=ATInternet.Utils.cloneSimpleObject(l.delayConfigurationBackup)},d=function(e,t){if(t){for(var r in e?(l.delayBufferingConfiguration=[],l.delayBufferingConfigurationBackup=[]):(l.delayConfiguration=[],l.delayConfigurationBackup=[]),t)t.hasOwnProperty(r)&&(e?l.delayBufferingConfiguration.push({delay:s.processHeartbeatValue(r,0),number:0,timeout:-1,refresh:s.processHeartbeatValue(t[r],n.minBufferingHeartbeat)}):l.delayConfiguration.push({delay:s.processHeartbeatValue(r,0),number:0,timeout:-1,refresh:s.processHeartbeatValue(t[r],n.minHeartbeat)}));!function(e){(e?l.delayBufferingConfiguration:l.delayConfiguration).sort((function(e,t){return e.delay<t.delay?-1:e.delay>t.delay?1:0}))}(e),e?l.delayBufferingConfigurationBackup=ATInternet.Utils.cloneSimpleObject(l.delayBufferingConfiguration):l.delayConfigurationBackup=ATInternet.Utils.cloneSimpleObject(l.delayConfiguration)}},p=function(e,n,r,i){var a=ATInternet.Utils.cloneSimpleObject(c);for(var o in a.av_session_id={},a.av_session_id[ATInternet.Utils.ATVALUE]=l.sessionId,a.av_session_id[ATInternet.Utils.ATPREFIX]="",n&&(a.av_previous_position={},a.av_previous_position[ATInternet.Utils.ATVALUE]=l.previousCursorPosition,a.av_previous_position[ATInternet.Utils.ATPREFIX]="",a.av_position={},a.av_position[ATInternet.Utils.ATVALUE]=l.currentCursorPosition,a.av_position[ATInternet.Utils.ATPREFIX]="",a.av_duration={},a.av_duration[ATInternet.Utils.ATVALUE]=l.eventDuration,a.av_duration[ATInternet.Utils.ATPREFIX]="",a.av_previous_event={},a.av_previous_event[ATInternet.Utils.ATVALUE]=l.previousEvent,a.av_previous_event[ATInternet.Utils.ATPREFIX]="",l.previousEvent=e),ATInternet.Utils.isObject(i)&&ATInternet.Utils.object2Flatten(i,null,a,null,!0),n={},a)a.hasOwnProperty(o)&&ATInternet.Utils.flatten2Object(n,o,a[o]);a=ATInternet.Utils.getFormattedObject(n),t.event.send(e,a,{origin:"avinsights",callback:r})},g=function(){var e=0,t=0;this.getEventDuration=function(){var n=(new Date).getTime()-e-t;return t+=n,n},this.initBaseTime=function(){0===e&&(e=(new Date).getTime())},this.resetProperties=function(){t=e=0},this.initHeartbeatTimer=function(e,t){var n=t?l.delayBufferingConfiguration:l.delayConfiguration;0<n.length&&(function(e){var t;void 0!==(e=e?l.delayBufferingConfiguration:l.delayConfiguration)[1]&&(t=e[1].delay),void 0===t?e[0].number=1:0<e[0].number?e[0].number--:"number"==typeof t&&(e[0].number=Math.floor(60*(t-e[0].delay)/e[0].refresh)-1)}(t),window.clearTimeout(n[0].timeout),n[0].timeout=window.setTimeout((function(){0===n[0].number&&n.splice(0,1),e&&e()}),1e3*n[0].refresh))},this.stopHeartbeatTimer=function(e){e=e?l.delayBufferingConfiguration:l.delayConfiguration;for(var t=0;t<e.length;t++)window.clearTimeout(e[t].timeout),e[t].timeout=-1}};o.set=function(e,t){var n=ATInternet.Utils.splitProtocolAndKey(e,!0);c[n.key]=c[n.key]||{},c[n.key][ATInternet.Utils.ATVALUE]=t,c[n.key][ATInternet.Utils.ATPREFIX]=n.prefix},o.get=function(e){var t=null;return e=ATInternet.Utils.splitProtocolAndKey(e,!0),void 0!==c[e.key]&&(t=c[e.key][ATInternet.Utils.ATVALUE]),t},o.del=function(e){e=ATInternet.Utils.splitProtocolAndKey(e,!0),void 0!==c[e.key]&&delete c[e.key]},o.setProps=function(e){ATInternet.Utils.isObject(e)&&ATInternet.Utils.object2Flatten(e,null,c,null,!0)},o.getProps=function(){var e,t=null;for(e in c)c.hasOwnProperty(e)&&((t=t||{})[e]=c[e][ATInternet.Utils.ATVALUE]);return t},o.delProps=function(){c={}};var v=function e(t,n,r,i,a){u.initBaseTime(),l.eventDuration=u.getEventDuration(),l.previousCursorPosition=l.currentCursorPosition,l.currentCursorPosition=t?l.previousCursorPosition+Math.floor(l.playbackSpeed*l.eventDuration):r,n&&u.initHeartbeatTimer((function(){e(!0,!0)}),!1),p("av.heartbeat",!0,i,a)},m=function e(t,n,r){u.initBaseTime(),l.eventDuration=u.getEventDuration(),t&&u.initHeartbeatTimer((function(){e(!0)}),!0),p("av.buffer.heartbeat",!0,n,r)},h=function e(t,n,r){u.initBaseTime(),l.eventDuration=u.getEventDuration(),l.previousCursorPosition=l.currentCursorPosition,t&&u.initHeartbeatTimer((function(){e(!0)}),!0),p("av.rebuffer.heartbeat",!0,n,r)};o.setPlaybackSpeed=function(e){(e=s.value2Number(e)||l.playbackSpeed)!==l.playbackSpeed&&(u.stopHeartbeatTimer(!1),l.isPlaying&&(v(!0,!1),u.initHeartbeatTimer((function(){v(!0,!0)}),!1)),l.playbackSpeed=e)},o.getSessionID=function(){return l.sessionId},o.track=function(e,t,n,r){switch(t=t||{},e){case"av.heartbeat":o.heartbeat(t.av_position,n,r);break;case"av.buffer.heartbeat":o.bufferHeartbeat(n,r);break;case"av.rebuffer.heartbeat":o.rebufferHeartbeat(n,r);break;case"av.play":o.play(t.av_position,n,r);break;case"av.buffer.start":o.bufferStart(t.av_position,n,r);break;case"av.start":o.playbackStart(t.av_position,n,r);break;case"av.resume":o.playbackResumed(t.av_position,n,r);break;case"av.pause":o.playbackPaused(t.av_position,n,r);break;case"av.stop":o.playbackStopped(t.av_position,n,r);break;case"av.backward":o.seekBackward(t.av_previous_position,t.av_position,n,r);break;case"av.forward":o.seekForward(t.av_previous_position,t.av_position,n,r);break;case"av.seek.start":o.seekStart(t.av_previous_position,n,r);break;case"av.error":o.error(t.av_player_error,n,r);break;default:p(e,!1,n,r)}},o.heartbeat=function(e,t,n){var r,i=!0;null!=e&&0<=e&&(i=!1,r=s.value2Number(e)),v(i,!1,r,t,n)},o.bufferHeartbeat=function(e,t){m(!1,e,t)},o.rebufferHeartbeat=function(e,t){h(!1,e,t)},o.play=function(e,t,n){u.initBaseTime(),e=s.value2Number(e),l.eventDuration=0,l.previousCursorPosition=e,l.currentCursorPosition=e,l.isPlaying=!1,l.isPlaybackActivated=!1,u.stopHeartbeatTimer(!1),u.stopHeartbeatTimer(!0),p("av.play",!0,t,n)},o.bufferStart=function(e,t,n){u.initBaseTime(),e=s.value2Number(e),l.eventDuration=u.getEventDuration(),l.previousCursorPosition=l.currentCursorPosition,l.currentCursorPosition=e,u.stopHeartbeatTimer(!1),u.stopHeartbeatTimer(!0),l.isPlaybackActivated?(u.initHeartbeatTimer((function(){h(!0)}),!0),p("av.rebuffer.start",!0,t,n)):(u.initHeartbeatTimer((function(){m(!0)}),!0),p("av.buffer.start",!0,t,n))},o.playbackStart=function(e,t,n){u.initBaseTime(),e=s.value2Number(e),l.eventDuration=u.getEventDuration(),l.previousCursorPosition=e,l.currentCursorPosition=e,l.isPlaying=!0,l.isPlaybackActivated=!0,u.stopHeartbeatTimer(!1),u.stopHeartbeatTimer(!0),u.initHeartbeatTimer((function(){v(!0,!0)}),!1),p("av.start",!0,t,n)},o.playbackResumed=function(e,t,n){u.initBaseTime(),e=s.value2Number(e),l.eventDuration=u.getEventDuration(),l.previousCursorPosition=l.currentCursorPosition,l.currentCursorPosition=e,l.isPlaying=!0,l.isPlaybackActivated=!0,u.stopHeartbeatTimer(!1),u.stopHeartbeatTimer(!0),u.initHeartbeatTimer((function(){v(!0,!0)}),!1),p("av.resume",!0,t,n)},o.playbackPaused=function(e,t,n){u.initBaseTime(),e=s.value2Number(e),l.eventDuration=u.getEventDuration(),l.previousCursorPosition=l.currentCursorPosition,l.currentCursorPosition=e,l.isPlaying=!1,l.isPlaybackActivated=!0,u.stopHeartbeatTimer(!1),u.stopHeartbeatTimer(!0),p("av.pause",!0,t,n)},o.playbackStopped=function(e,t,n){u.initBaseTime(),e=s.value2Number(e),l.eventDuration=u.getEventDuration(),l.previousCursorPosition=l.currentCursorPosition,l.currentCursorPosition=e,l.isPlaying=!1,l.isPlaybackActivated=!1,u.stopHeartbeatTimer(!1),u.stopHeartbeatTimer(!0),u.resetProperties(),f(!1),f(!0),p("av.stop",!0,t,n),l.previousCursorPosition=0,l.currentCursorPosition=0,l.eventDuration=0,l.previousEvent="",l.sessionId=ATInternet.Utils.uuid().v4()},o.seek=function(e,t,n,r){(e=s.value2Number(e))>(t=s.value2Number(t))?o.seekBackward(e,t,n,r):o.seekForward(e,t,n,r)},o.seekBackward=function(e,t,n,r){o.seekStart(e,null,r),l.eventDuration=0,l.previousCursorPosition=s.value2Number(e),l.currentCursorPosition=s.value2Number(t),p("av.backward",!0,n,r)},o.seekForward=function(e,t,n,r){o.seekStart(e,null,r),l.eventDuration=0,l.previousCursorPosition=s.value2Number(e),l.currentCursorPosition=s.value2Number(t),p("av.forward",!0,n,r)},o.seekStart=function(e,t,n){e=s.value2Number(e),l.previousCursorPosition=l.currentCursorPosition,l.currentCursorPosition=e,l.eventDuration=l.isPlaying?u.getEventDuration():0,p("av.seek.start",!0,t,n)},o.adClick=function(e,t){p("av.ad.click",!1,e,t)},o.adSkip=function(e,t){p("av.ad.skip",!1,e,t)},o.error=function(e,t,n){var r={};ATInternet.Utils.isObject(n)&&(r=n),r.av_player_error=String(e),p("av.error",!1,t,r)},o.display=function(e,t){p("av.display",!1,e,t)},o.close=function(e,t){p("av.close",!1,e,t)},o.volume=function(e,t){p("av.volume",!1,e,t)},o.subtitleOn=function(e,t){p("av.subtitle.on",!1,e,t)},o.subtitleOff=function(e,t){p("av.subtitle.off",!1,e,t)},o.fullscreenOn=function(e,t){p("av.fullscreen.on",!1,e,t)},o.fullscreenOff=function(e,t){p("av.fullscreen.off",!1,e,t)},o.quality=function(e,t){p("av.quality",!1,e,t)},o.speed=function(e,t){p("av.speed",!1,e,t)},o.share=function(e,t){p("av.share",!1,e,t)},l={previousCursorPosition:0,currentCursorPosition:0,eventDuration:0,playbackSpeed:1,previousEvent:"",isPlaybackActivated:!1,isPlaying:!1,sessionId:"",delayConfiguration:[],delayConfigurationBackup:[],delayBufferingConfiguration:[],delayBufferingConfigurationBackup:[]},function(){var t=i?{0:1,1:10,5:20,15:30,30:60}:null;d(!1,e?{0:5,1:10,5:20,15:30,30:60}:null),d(!0,t)}(),l.sessionId=a||ATInternet.Utils.uuid().v4(),u=new g,ATInternet.Utils.addEvtListener(window,"unload",(function(){u.stopHeartbeatTimer(!1),u.stopHeartbeatTimer(!0)})),c={}},t.plugins.waitForDependencies(["EventRoot"],(function(){t.configPlugin("AvInsights",e||{},(function(e){n=e}))}))},ATInternet.Tracker.addPlugin("AvInsights")}.call(window),function(){var e={hitParameter:"col",hitValue:"2"};ATInternet.Tracker.Plugins.EventRoot=function(t){var n={},r=function(e){for(var t,n=[],r=0;r<e.length;r++)for(var i in e[r])e[r].hasOwnProperty(i)&&(t=ATInternet.Utils.isObject(e[r][i])?ATInternet.Utils.objectToLowercase(e[r][i]):e[r][i],n.push({name:i.toLowerCase(),data:t}));return ATInternet.Utils.jsonSerialize(n)},i=function(e,n){var r="",i={},a={};if(void 0!==e){i={},e.name&&(i.$=e.name);a=t.getConfig("ignoreEmptyChapterValue");for(var o="",s="",l=1;3>=l;l++)o=e[s="chapter"+l]||"",(a&&o||!a&&e.hasOwnProperty(s))&&(i[s]=o);e.url&&(i.url=e.url),a={},"string"==typeof e.level2?0<(o=ATInternet.Utils.trim(e.level2)).length&&(isNaN(o)?a.level2=o:a.level2_id=Number(o)):"number"==typeof e.level2&&(a.level2_id=e.level2)}return o={},ATInternet.Utils.isEmptyObject(i)||(o.page=i),ATInternet.Utils.isEmptyObject(a)||(o.site=a),void 0!==n&&(o.src=n),ATInternet.Utils.isEmptyObject(o)||(r=ATInternet.Utils.jsonSerialize([{data:o}])),r},a=function(e,n,r){r=r||"event",""!==(e=i(e,n))&&t.setParam("context",e,{truncate:!0,hitType:[r],encode:!0})},o=function(e,t){return e instanceof Array&&t instanceof Array?e.concat(t):ATInternet.Utils.isObject(e)&&ATInternet.Utils.isObject(t)?ATInternet.Utils.completeFstLevelObj(e,t,!0):t};t.event={},t.event.reset=function(e){e=e||"event",t.getContext(e),t.delContext(e)},t.event.send=function(e,a,o){var s=!0,l="",u="event";o&&o.origin&&(u=o.origin);var c={};c[e]=a;var f={};return f[n.hitParameter]={_value:n.hitValue,_options:{multihit:!0}},e=t.getContext("page"),a=t.getContext("campaigns_events"),void 0===e&&void 0===a||(f.context={_value:i(e,a),_options:{truncate:!0,encode:!0}}),f.events={_value:r([c]),_options:{encode:!0,truncate:!0,separator:","}},ATInternet.Utils.isPreview()&&t.getConfig("preview")&&(f.pvw=1),c=null,o&&o.hasOwnProperty("event")&&(c=o.event||window.event),!ATInternet.Utils.isTabOpeningAction(c)&&o&&o.elem&&(s=(c=t.techClicks.manageClick(o.elem,c)).preservePropagation,l=c.elementType),t.manageSend((function(){var e;o&&(e=o.callback),t.sendHit(f,[["hitType",[u]]],e,null,l)})),s},t.event.set=function(e,r,i,a){a=a||"event",t.setParam(n.hitParameter,n.hitValue,{multihit:!0,hitType:[a]}),t.dispatchSubscribe(a);for(var s=t.getContext(a)||[],l=!1,u=0;u<s.length;u++)s[u][e]&&(l=!0,i?ATInternet.Utils.isObject(s[u][e])&&(s[u][e][i]=o(s[u][e][i],r)):s[u][e]=o(s[u][e],r));l||(l={},i?(l[e]={},l[e][i]=r):l[e]=r,s.push(l)),t.setContext(a,s)},t.event.add=function(e,n,r){r=r||"event";var i=t.getContext(r)||[],a={};a[e]=n,i.push(a),t.setContext(r,i)},t.event.onDispatch=function(e,n,i){var o=i||"event";i=t.getContext("page");var s=t.getContext("campaigns_events");void 0===i&&void 0===s||a(i,s,o),void 0!==(i=t.getContext(o))&&function(e,n){var i=n||"event";t.setParam("events",r(e),{hitType:[i],encode:!0,truncate:!0,separator:","})}(i,o),t.delContext(o),ATInternet.Utils.isPreview()&&t.getConfig("preview")&&t.setParam("pvw",1,{hitType:[o]}),t.manageSend((function(){t.sendHit(null,[["hitType",[o]]],e,null,n)}))},t.plugins.waitForDependencies(["Utils"],(function(){t.configPlugin("EventRoot",e||{},(function(e){n=e}))}))},ATInternet.Tracker.addPlugin("EventRoot")}.call(window),function(){ATInternet.Tracker.Plugins.Events=function(e){var t=function(e){var t={};for(var n in e=ATInternet.Utils.cloneSimpleObject(e),ATInternet.Utils.object2Flatten(e,null,t,null,!0),e={},t)t.hasOwnProperty(n)&&ATInternet.Utils.flatten2Object(e,n,t[n]);return ATInternet.Utils.getFormattedObject(e)};e.events={},e.events.send=function(n,r,i){(i=i||{}).origin="events";var a=r;ATInternet.Utils.isObject(r)&&(a=t(r)),e.event.send(n,a,i)},e.events.add=function(n,r){var i=r;ATInternet.Utils.isObject(r)&&(i=t(r));for(var a=e.getContext("events")||[],o=!1,s=0;s<a.length;s++){a[s].hasOwnProperty(n),o=!0;break}o?e.event.add(n,i,"events"):e.event.set(n,i,null,"events")},e.events.onDispatch=function(t,n){e.event.onDispatch(t,n,"events")}},ATInternet.Tracker.addPlugin("Events")}.call(window),function(){var e={urlKeyword:"",urlResultPageNumber:"",urlResultPosition:""};ATInternet.Tracker.Plugins.InternalSearch=function(t){var n={};t.configPlugin("InternalSearch",e||{},(function(e){n=e})),t.internalSearch={},t.internalSearch.set=function(e){var n={},r=n,i=e=e||{};i.hasOwnProperty("keyword")&&(r.keyword=i.keyword),r=n,e.hasOwnProperty("resultPageNumber")&&(r.resultPageNumber=e.resultPageNumber),e=t.getContext("InternalSearch")||{},void 0===(n=ATInternet.Utils.completeFstLevelObj(n,e)).resultPageNumber&&(n.resultPageNumber="1"),t.setContext("InternalSearch",n)},t.internalSearch.send=function(e){var n=!0,r="",i=null;(e=e||{}).hasOwnProperty("event")&&(i=e.event||window.event),!ATInternet.Utils.isTabOpeningAction(i)&&e.elem&&(n=(r=t.techClicks.manageClick(e.elem,i)).preservePropagation,r=r.elementType),i={np:void 0!==e.resultPageNumber?e.resultPageNumber:"1",click:"IS"},e.hasOwnProperty("keyword")&&(i.mc=e.keyword),e.hasOwnProperty("resultPosition")&&(i.mcrg=e.resultPosition);var a=t.getContext("page")||{};return a.level2&&(i.s2=a.level2),t.sendHit(i,[["hitType",["InternalSearch"]]],e.callback,null,r),n},t.plugins.waitForDependencies(["Utils"],(function(){var e;if(n.urlKeyword){var r=document.location.href;e={};var i=t.utils.getQueryStringValue(n.urlKeyword,r);i&&(e.keyword=i),n.urlResultPageNumber&&(i=t.utils.getQueryStringValue(n.urlResultPageNumber,r),e.resultPageNumber=i||"1")}e&&t.setContext("InternalSearch",e),t.emit("InternalSearch:Ready",{lvl:"INFO",details:{config:{urlKeyword:n.urlKeyword,urlResultPageNumber:n.urlResultPageNumber},url:r,data:e}})}))},ATInternet.Tracker.addPlugin("InternalSearch")}.call(window),function(){var e={authorityStorageName:"atauthority",authorities:{default:{name:"default",optin:{name:"optin",storageDuration:397,trackerSettings:{disableStorage:!1,disableCookie:!1},add:{buffer:{visitorConsent:{param:"vc",value:!0},visitorMode:{param:"vm",value:"optin"}}},include:{storage:"*",buffer:"*"}},optout:{name:"optout",storageDuration:397,trackerSettings:{disableStorage:!1,disableCookie:!1},add:{buffer:{visitorConsent:{param:"vc",value:!1},visitorMode:{param:"vm",value:"optout"}}},include:{storage:["atuserid","atauthority"],buffer:["s","idclient","ts","vc","vm","click","type","olt","cn","mh"]}},"no-consent":{name:"no-consent",storageDuration:0,trackerSettings:{disableStorage:!0,disableCookie:!0},add:{buffer:{visitorConsent:{param:"vc",value:!1},visitorMode:{param:"vm",value:"no-consent"},idclient:{param:"idclient",value:"Consent-NO"}}},include:{storage:[],buffer:["s","idclient","ts","vc","vm","click","type","olt","cn","mh"]}},random:{name:"random",storageDuration:0,trackerSettings:{disableStorage:!1,disableCookie:!1},add:{buffer:{visitorConsent:{param:"vc",value:!1},visitorMode:{param:"vm",value:"before-consent"}}},include:{storage:[],buffer:["s","idclient","p","vtag","ptag","ts","vc","vm","ref","xto","click","type","olt","cn","mh"]}}},cnil:{name:"cnil",exempt:{name:"exempt",storageDuration:397,trackerSettings:{disableStorage:!1,disableCookie:!1},add:{buffer:{visitorConsent:{param:"vc",value:!1},visitorMode:{param:"vm",value:"exempt"}}},include:{storage:["atuserid","atauthority"],buffer:["s","idclient","p","vtag","ptag","ts","vc","vm","click","type","olt","cn","mh","ref"]}}}},parametersToInclude:[]};ATInternet.Tracker.Plugins.Privacy=function(t){var n=function(e){function n(){if(c&&f){var e=new Date;e.setTime(e.getTime()+864e5*f.storageDuration),t.storage.set(p.authorityStorageName,{authority_name:c.name,visitor_mode:f.name},{end:e,path:"/"})}}function r(e){f&&(0<f.storageDuration?e?n():null===(e=t.storage.get(p.authorityStorageName,!0))?n():"object"==typeof e&&(e.authority_name===c.name&&e.visitor_mode===f.name||n()):t.storage.del(p.authorityStorageName))}function i(){ATInternet.Utils.privacy.processStorageParams((function(e){t.storage.del(e)}),(function(e){return t.storage.get(e,!0)||t.storage.getPrivate(e,!0)}),(function(){return t.storage.getAll()}),u.getVisitorMode().name)}function a(){ATInternet.Utils.privacy.processBufferParams((function(e){t.delParam(e)}),(function(){return t.getParams([])}),(function(e,n,r){t.setParam(e,n,r)}),u.getVisitorMode().name)}function o(e,t,n){if(f&&f.include){f.include[t]instanceof Array?e instanceof Array?f.include[t]=f.include[t].concat(e):e&&f.include[t].push(e):f.include[t]!==ATInternet.Utils.privacy.ALL&&(e instanceof Array?f.include[t]=e:e&&(f.include[t]=[e])),e=d;var r=t+"Params",i=f.include[t];t=[];for(var a={},o=0;o<i.length;o++)if("object"==typeof i[o])for(var s in i[o])i[o].hasOwnProperty(s)&&(a[s]=(a[s]||[]).concat(i[o][s]));else t.push(i[o]);for(var l in a)a.hasOwnProperty(l)&&((s={})[l]=a[l],t.push(s));e[r]=t,ATInternet.Utils.privacy.setParameters(d),n&&n()}}function s(e,n,o,s){if(p.authorities&&p.authorities[e]&&p.authorities[e][n]){if(o&&t.clientSideUserId.clear(),s&&u.setVisitorOptin(),c=p.authorities[e],f=c[n],ATInternet.Utils.privacy.setMode(n),f)for(var g in f.trackerSettings)f.trackerSettings.hasOwnProperty(g)&&t.setConfig(g,f.trackerSettings[g]);if(f&&f.add)for(var v in f.add.buffer)f.add.buffer.hasOwnProperty(v)&&t.setParam(f.add.buffer[v].param,f.add.buffer[v].value,{multihit:!0,permanent:!0,hitType:["all"]});if(f&&f.include){for(var m in f.include)f.include.hasOwnProperty(m)&&(e=f.include[m]instanceof Array?f.include[m]:[f.include[m]],d[m+"Params"]=e);ATInternet.Utils.privacy.setParameters(d),r(!1)}0<p.parametersToInclude.length&&(u.extendIncludeStorage(p.parametersToInclude),u.extendIncludeBuffer(p.parametersToInclude)),i(),a(),l()}}function l(){for(var e=d.bufferParams,n=e.length,r=0;r<n;r++){var i=e[r];if(i===ATInternet.Utils.privacy.ALL){t.contextVariables.setAll();break}(i=t.contextVariables.params[i])&&i()}}var u=this,c=null,f=null,d={storageParams:[],bufferParams:[]},p=e;u.setVisitorOptout=function(){ATInternet.Utils.consentReceived(!0),s("default","optout",!1,!1),ATInternet.Utils.userOptedOut()},u.setVisitorOptin=function(){ATInternet.Utils.consentReceived(!0),t.clientSideUserId.store(),s("default","optin",!1,!1),ATInternet.Utils.userOptedIn()},u.setVisitorRandomID=function(){ATInternet.Utils.consentReceived(!1),s("default","random",!1,!1),ATInternet.Utils.userOptedIn()},u.setVisitorMode=function(e,t,n){var r=!0;"cnil"===e&&"exempt"===t?r=!1:"boolean"==typeof n&&(r=n),r&&c&&f&&(r=e!==c.name||t!==f.name),s(e,t,r,!0)},u.getAuthority=function(){return c},u.getVisitorMode=function(){return f},u.addAuthority=function(e){e&&"object"==typeof e&&(p.authorities=p.authorities||{},p.authorities[e.name]=e)},u.extendIncludeStorage=function(e){o(e,"storage",i)},u.extendIncludeBuffer=function(e){o(e,"buffer",a),l()},u.updateStorageDuration=function(e){f&&(f.storageDuration=e,r(!0))},function(){var e=t.storage.get([p.authorityStorageName,"authority_name"],!0),n=t.storage.get([p.authorityStorageName,"visitor_mode"],!0);e&&n&&("default"===e?"optin"===n?u.setVisitorOptin():"optout"===n?u.setVisitorOptout():"random"===n?u.setVisitorRandomID():u.setVisitorMode(e,n):u.setVisitorMode(e,n))}()},r=null;t.privacy={setVisitorOptout:function(){},setVisitorOptin:function(){},setVisitorRandomID:function(){},setVisitorMode:function(){},getAuthority:function(){},getVisitorMode:function(){},addAuthority:function(){},extendIncludeStorage:function(){},extendIncludeBuffer:function(){},updateStorageDuration:function(){}},t.plugins.waitForDependencies(["Storage","Utils","ClientSideUserId","ContextVariables"],(function(){var i=null;t.configPlugin("Privacy",e||{},(function(e){i=ATInternet.Utils.cloneSimpleObject(e)})),null!==i&&(r=new n(i),t.privacy.setVisitorOptout=r.setVisitorOptout,t.privacy.setVisitorOptin=r.setVisitorOptin,t.privacy.setVisitorRandomID=r.setVisitorRandomID,t.privacy.setVisitorMode=r.setVisitorMode,t.privacy.getAuthority=r.getAuthority,t.privacy.getVisitorMode=r.getVisitorMode,t.privacy.addAuthority=r.addAuthority,t.privacy.extendIncludeStorage=r.extendIncludeStorage,t.privacy.extendIncludeBuffer=r.extendIncludeBuffer,t.privacy.updateStorageDuration=r.updateStorageDuration)}))},ATInternet.Tracker.addPlugin("Privacy")}.call(window),function(){window.ATInternet.Tracker.Plugins.RichMedia=function(e){var t=function(e,t){var n=parseInt(e,10);return n?Math.max(n,t):0},n=new function(){this.media=function(){this.type=void 0,this.plyr=0,this.clnk=this.s2=void 0,this.p="",this.m9=this.m6=this.m5=this.m1=this.rfsh=this.buf=this.a=void 0},this.mediaAll={},this.setMediaValue=function(e,t,n,r){void 0!==r&&(this.mediaAll[e]=this.mediaAll[e]||{},this.mediaAll[e][t]=this.mediaAll[e][t]||new this.media,this.mediaAll[e][t][n]=r)},this.getMediaValue=function(e,t,n){if(this.mediaAll[e]&&this.mediaAll[e][t])return this.mediaAll[e][t][n]},this.removePlayer=function(e){this.mediaAll[e]={}},this.removeAll=function(){this.mediaAll={}}},r=new function(){this.timeout={},this.setTimeout=function(t,n,r){this.timeout[t]=this.timeout[t]||{},this.timeout[t][n]&&window.clearTimeout(this.timeout[t][n]),this.timeout[t][n]=window.setTimeout((function(){e.richMedia.send({action:"refresh",playerId:t,mediaLabel:n})}),1e3*r)},this.setTimeoutObject=function(r,i,a){if(this.timeout[r]=this.timeout[r]||{},void 0===this.timeout[r][i]){var o,s=[];for(o in a)a.hasOwnProperty(o)&&s.push({delay:t(o,0),refresh:t(a[o],5)});s.sort((function(e,t){return e.delay<t.delay?-1:e.delay>t.delay?1:0})),this.timeout[r][i]={refreshTab:s,backupRefreshTab:ATInternet.Utils.cloneSimpleObject(s),delayConfiguration:{}}}if(0<(a=this.timeout[r][i]).refreshTab.length&&(s=a.refreshTab[0].delay,o=a.refreshTab[0].refresh,"number"==typeof s&&"number"==typeof o&&0<o)){a.delayConfiguration[s]=a.delayConfiguration[s]||{};var l=void 0;void 0!==a.refreshTab[1]&&(l=a.refreshTab[1].delay);var u=0;void 0===l?u=1:"number"==typeof a.delayConfiguration[s].number?u="refresh"===n.getMediaValue(r,i,"a")?Math.max(a.delayConfiguration[s].number-1,0):a.delayConfiguration[s].number:"number"==typeof l&&(u=Math.floor(60*(l-s)/o)-1),a.delayConfiguration[s].number=u,a.delayConfiguration[s].timeout&&window.clearTimeout(a.delayConfiguration[s].timeout),0<u?a.delayConfiguration[s].timeout=window.setTimeout((function(){e.richMedia.send({action:"refresh",playerId:r,mediaLabel:i})}),1e3*o):(a.delayConfiguration[s].number=void 0,a.delayConfiguration[s].timeout=void 0,a.refreshTab.splice(0,1),window.setTimeout((function(){e.richMedia.send({action:"refresh",playerId:r,mediaLabel:i})}),1e3*o)),this.timeout[r][i]=a}},this.clearTimeout=function(e,t,n){this.timeout[e]=this.timeout[e]||{};var r=this.timeout[e][t];if("object"==typeof r){if("object"==typeof r.delayConfiguration){var i,a;for(a in r.delayConfiguration)r.delayConfiguration.hasOwnProperty(a)&&(void 0!==(i=r.delayConfiguration[a].number)&&0<i&&(r.delayConfiguration[a].timeout&&window.clearTimeout(r.delayConfiguration[a].timeout),r.delayConfiguration[a].timeout=void 0));n&&(r.refreshTab=ATInternet.Utils.cloneSimpleObject(r.backupRefreshTab)),this.timeout[e][t]=r}}else r&&window.clearTimeout(r)},this.removePlayer=function(t){for(var r in this.timeout[t])if(this.timeout[t].hasOwnProperty(r)){this.clearTimeout(t,r,!1);var i=n.getMediaValue(t,r,"a");void 0!==this.timeout[t][r]&&"stop"!==i&&e.richMedia.send({action:"stop",playerId:t,mediaLabel:r})}this.timeout[t]={}},this.removeAll=function(){for(var e in this.timeout)this.timeout.hasOwnProperty(e)&&this.removePlayer(e);this.timeout={}}},i=function(t,n,r){return e.utils.manageChapters(t,n,3)+(t[r]?t[r]:"")},a=function(e,t,n,r){var i=e[t];return"boolean"==typeof e[t]&&(i=e[t]?r:n),i},o=function(e){var t=0;return/^(\-|\+)?([0-9]+)$/.test(e)&&(t=Number(e)),t},s=function(e,t,r,i,a){void 0!==(t=n.getMediaValue(t,r,i))&&(e[i]=a?encodeURIComponent(t):t)},l=function(e,t,n){void 0!==n&&(e[t]=n)};e.richMedia={},e.richMedia.add=function(e){var t=o((e=e||{}).playerId),r=i(e,"mediaTheme","mediaLabel"),s=a(e,"isEmbedded","int","ext");n.setMediaValue(t,r,"plyr",t),n.setMediaValue(t,r,"type",e.mediaType),n.setMediaValue(t,r,"s2",e.mediaLevel2),n.setMediaValue(t,r,"p",r),n.setMediaValue(t,r,"clnk",e.linkedContent||e.previousMedia),n.setMediaValue(t,r,"a",e.action),n.setMediaValue(t,r,"rfsh",e.refreshDuration),n.setMediaValue(t,r,"m1",e.duration),n.setMediaValue(t,r,"m5",s),n.setMediaValue(t,r,"m6",e.broadcastMode),n.setMediaValue(t,r,"m9",e.webdomain)},e.richMedia.send=function(u){var c=o((u=u||{}).playerId),f=i(u,"mediaTheme","mediaLabel"),d=u.action;n.setMediaValue(c,f,"a",d);var p={plyr:c,p:f};if(s(p,c,f,"a",!1),s(p,c,f,"type",!1),s(p,c,f,"s2",!1),s(p,c,f,"m1",!1),s(p,c,f,"m5",!1),s(p,c,f,"m6",!1),"play"===d||"info"===d){u=a(u,"isBuffering","0","1");var g=e.getContext("page")||{},v=i(g,"chapter","name")||void 0;g=g.level2||void 0;l(p,"buf",u),l(p,"prich",v),l(p,"s2rich",g),s(p,c,f,"clnk",!1),s(p,c,f,"m9",!0)}e.sendHit(p,[["hitType",["richmedia"]]],null,null,null),"pause"===d?r.clearTimeout(c,f,!1):"stop"===d&&r.clearTimeout(c,f,!0),"play"!==d&&"refresh"!==d||("object"==typeof(d=n.getMediaValue(c,f,"rfsh"))&&null!==d?r.setTimeoutObject(c,f,d):0!==(d=t(d,5))&&r.setTimeout(c,f,d))},e.richMedia.remove=function(e){r.removePlayer(e),n.removePlayer(e)},e.richMedia.removeAll=function(){r.removeAll(),n.removeAll()}},window.ATInternet.Tracker.addPlugin("RichMedia")}.call(window),"function"==typeof window.ATInternet.onTrackerLoad&&window.ATInternet.onTrackerLoad()})();